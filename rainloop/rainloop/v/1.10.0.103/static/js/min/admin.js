(function(h){function f(a){if(c[a])return c[a].exports;var e=c[a]={exports:{},id:a,loaded:!1};h[a].call(e.exports,e,e.exports,f);e.loaded=!0;return e.exports}var c={};f.m=h;f.c=c;f.p="rainloop/v/0.0.0/static/js/";return f(0)})([function(h,f,c){h=(h=c(77))&&h.__esModule?h:{default:h};c=(c=c(22))&&c.__esModule?c:{default:c};(0,h.default)(c.default)},function(h,f,c){(function(){var a=null,e={},d=c(11),b=c(3),g=c(14),l=c(2),k=c(78),m=c(36),n=c(79),p=c(66),r=c(4),f=c(8);e.trim=g.trim;e.inArray=g.inArray;
e.isArray=b.isArray;e.isObject=b.isObject;e.isFunc=b.isFunction;e.isUnd=b.isUndefined;e.isNull=b.isNull;e.emptyFunction=e.noop=function(){};e.silentTryCatch=function(b){try{b()}catch(a){}};e.isNormal=function(b){return!e.isUnd(b)&&!e.isNull(b)};e.windowResize=b.debounce(function(b){e.isUnd(b)?f.$win.resize():d.setTimeout(function(){f.$win.resize()},b)},50);e.windowResizeCallback=function(){e.windowResize()};e.isPosNumeric=function(b,a){return e.isNormal(b)?e.isUnd(a)||a?/^[0-9]*$/.test(b.toString()):
/^[1-9]+[0-9]*$/.test(b.toString()):!1};e.pInt=function(b,a){var c=e.isNormal(b)&&""!==b?d.parseInt(b,10):a||0;return d.isNaN(c)?a||0:c};e.pString=function(b){return e.isNormal(b)?""+b:""};e.pBool=function(b){return!!b};e.encodeURIComponent=function(b){return d.encodeURIComponent(b)};e.isNonEmptyArray=function(b){return e.isArray(b)&&0<b.length};e.simpleQueryParser=function(b){for(var a={},c=[],e=[],m=0,g=0,c=b.split("&"),m=0,g=c.length;m<g;m++)e=c[m].split("="),a[d.decodeURIComponent(e[0])]=d.decodeURIComponent(e[1]);
return a};e.mailToHelper=function(a,m){if(a&&"mailto:"===a.toString().substr(0,7).toLowerCase()){if(!m)return!0;a=a.toString().substr(7);var g=[],l=null,n=null,k={},p=c(30),g=a.replace(/\?.+$/,""),k=a.replace(/^[^\?]*\?/,""),f=function(a){return a?b.compact(b.map(d.decodeURIComponent(a).split(/[,]/),function(b){var a=new p;a.mailsoParse(b);return""!==a.email?a:null})):null},g=f(g),k=e.simpleQueryParser(k);e.isUnd(k.cc)||(l=f(d.decodeURIComponent(k.cc)));e.isUnd(k.bcc)||(n=f(d.decodeURIComponent(k.bcc)));
c(5).showScreenPopup(m,[r.ComposeType.Empty,null,g,l,n,e.isUnd(k.subject)?null:e.pString(d.decodeURIComponent(k.subject)),e.isUnd(k.body)?null:e.plainToHtml(e.pString(d.decodeURIComponent(k.body)))]);return!0}return!1};e.rsaObject=function(b){n&&b&&(null===a||a&&a.__sPublicKey!==b)&&d.crypto&&d.crypto.getRandomValues?(a=new n,a.setPublicKey(b),a.__sPublicKey=b):a=!1;return a};e.rsaEncode=function(b,a){if(d.crypto&&d.crypto.getRandomValues&&a){var c=!1;if(c=e.rsaObject(a))if(c=c.encrypt(e.fakeMd5()+
":"+b+":"+e.fakeMd5()),!1!==c&&e.isNormal(c))return"rsa:xxx:"+c}return b};e.rsaEncode.supported=!1;e.encodeHtml=function(a){return e.isNormal(a)?b.escape(a.toString()):""};e.splitPlainText=function(b,a){var c="",d="",m=b,g=0,l=0;for(a=e.isUnd(a)?100:a;m.length>a;)d=m.substring(0,a),g=d.lastIndexOf(" "),l=d.lastIndexOf("\n"),-1!==l&&(g=l),-1===g&&(g=a),c+=d.substring(0,g)+"\n",m=m.substring(g+1);return c+m};e.timeOutAction=function(){var b={};return function(a,c,m){e.isUnd(b[a])&&(b[a]=0);d.clearTimeout(b[a]);
b[a]=d.setTimeout(c,m)}}();e.timeOutActionSecond=function(){var b={};return function(a,c,m){b[a]||(b[a]=d.setTimeout(function(){c();b[a]=0},m))}}();e.hos=function(b,a){return b&&d.Object&&d.Object.hasOwnProperty?d.Object.hasOwnProperty.call(b,a):!1};e.inFocus=function(){return d.document.activeElement?(e.isUnd(d.document.activeElement.__inFocusCache)&&(d.document.activeElement.__inFocusCache=g(d.document.activeElement).is("input,textarea,iframe,.cke_editable")),!!d.document.activeElement.__inFocusCache):
!1};e.removeInFocus=function(b){if(d.document&&d.document.activeElement&&d.document.activeElement.blur)if(g(d.document.activeElement).is("input,textarea"))d.document.activeElement.blur();else if(b)try{d.document.activeElement.blur()}catch(a){}};e.removeSelection=function(){if(d&&d.getSelection){var b=d.getSelection();b&&b.removeAllRanges&&b.removeAllRanges()}else d.document&&d.document.selection&&d.document.selection.empty&&d.document.selection.empty()};e.replySubjectAdd=function(a,c){a=e.trim(a.toUpperCase());
c=e.trim(c.replace(/[\s]+/g," "));var d=!1,m=[],g="RE"===a,l="FWD"===a,k=!l;""!==c&&b.each(c.split(":"),function(b){var a=e.trim(b);d||!/^(RE|FWD)$/i.test(a)&&!/^(RE|FWD)[\[\(][\d]+[\]\)]$/i.test(a)?(m.push(b),d=!0):(g||(g=!!/^RE/i.test(a)),l||(l=!!/^FWD/i.test(a)))});k?g=!1:l=!1;return e.trim((k?"Re: ":"Fwd: ")+(g?"Re: ":"")+(l?"Fwd: ":"")+e.trim(m.join(":")))};e.roundNumber=function(b,a){return d.Math.round(b*d.Math.pow(10,a))/d.Math.pow(10,a)};e.friendlySize=function(b){b=e.pInt(b);return 1073741824<=
b?e.roundNumber(b/1073741824,1)+"GB":1048576<=b?e.roundNumber(b/1048576,1)+"MB":1024<=b?e.roundNumber(b/1024,0)+"KB":b+"B"};e.log=function(b){d.console&&d.console.log&&d.console.log(b)};e.delegateRun=function(a,c,d,m){a&&a[c]&&(m=e.pInt(m),0>=m?a[c].apply(a,e.isArray(d)?d:[]):b.delay(function(){a[c].apply(a,e.isArray(d)?d:[])},m))};e.kill_CtrlA_CtrlS=function(b){if((b=b||d.event)&&b.ctrlKey&&!b.shiftKey&&!b.altKey){var a=b.target||b.srcElement,c=b.keyCode||b.which;c===r.EventKeyCode.S?b.preventDefault():
c!==r.EventKeyCode.A||a&&("true"===""+a.contentEditable||a.tagName&&a.tagName.match(/INPUT|TEXTAREA/i))||(d.getSelection?d.getSelection().removeAllRanges():d.document.selection&&d.document.selection.clear&&d.document.selection.clear(),b.preventDefault())}};e.createCommand=function(b,a,c){var d=e.emptyFunction,d=a?function(){d&&d.canExecute&&d.canExecute()&&a.apply(b,Array.prototype.slice.call(arguments));return!1}:e.emptyFunction;d.enabled=l.observable(!0);c=e.isUnd(c)?!0:c;e.isFunc(c)?d.canExecute=
l.computed(function(){return d.enabled()&&c.call(b)}):d.canExecute=l.computed(function(){return d.enabled()&&!!c});return d};e.convertThemeName=b.memoize(function(b){"@custom"===b.substr(-7)&&(b=e.trim(b.substring(0,b.length-7)));return e.trim(b.replace(/[^a-zA-Z0-9]+/g," ").replace(/([A-Z])/g," $1").replace(/[\s]+/g," "))});e.quoteName=function(b){return b.replace(/["]/g,'\\"')};e.microtime=function(){return(new d.Date).getTime()};e.timestamp=function(){return d.Math.round(e.microtime()/1E3)};e.convertLangName=
function(b,a){return c(6).i18n("LANGS_NAMES"+(!0===a?"_EN":"")+"/LANG_"+b.toUpperCase().replace(/[^a-zA-Z0-9]+/g,"_"),null,b)};e.fakeMd5=function(b){var a="";for(b=e.isUnd(b)?32:e.pInt(b);a.length<b;)a+="0123456789abcdefghijklmnopqrstuvwxyz".substr(d.Math.round(36*d.Math.random()),1);return a};e.draggablePlace=function(){return g('<div class="draggablePlace"><span class="text"></span>&nbsp;<i class="icon-copy icon-white visible-on-ctrl"></i><i class="icon-mail icon-white hidden-on-ctrl"></i></div>').appendTo("#rl-hidden")};
e.defautOptionsAfterRender=function(b,a){a&&!e.isUnd(a.disabled)&&b&&g(b).toggleClass("disabled",a.disabled).prop("disabled",a.disabled)};e.windowPopupKnockout=function(b,a,m,k){var n=null,p=d.open(""),r="__OpenerApplyBindingsUid"+e.fakeMd5()+"__",f=g("#"+a);d[r]=function(){if(p&&p.document.body&&f&&f[0]){var a=g(p.document.body);g("#rl-content",a).html(f.html());g("html",p.document).addClass("external "+g("html").attr("class"));c(6).i18nToNodes(a);b&&g("#rl-content",a)[0]&&l.applyBindings(b,g("#rl-content",
a)[0]);d[r]=null;k(p)}};p.document.open();p.document.write('<html><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="user-scalable=no" /><meta name="apple-mobile-web-app-capable" content="yes" /><meta name="robots" content="noindex, nofollow, noodp" /><title>'+e.encodeHtml(m)+'</title></head><body><div id="rl-content"></div></body></html>');p.document.close();n=p.document.createElement("script");n.type="text/javascript";n.innerHTML=
"if(window&&window.opener&&window.opener['"+r+"']){window.opener['"+r+"']();window.opener['"+r+"']=null}";p.document.getElementsByTagName("head")[0].appendChild(n)};e.settingsSaveHelperFunction=function(a,c,d,m){d=d||null;m=e.isUnd(m)?1E3:e.pInt(m);return function(g,e,l,k,n){c.call(d,e&&e.Result?r.SaveSettingsStep.TrueResult:r.SaveSettingsStep.FalseResult);a&&a.call(d,g,e,l,k,n);b.delay(function(){c.call(d,r.SaveSettingsStep.Idle)},m)}};e.settingsSaveHelperSimpleFunction=function(b,a){return e.settingsSaveHelperFunction(null,
b,a,1E3)};e.settingsSaveHelperSubscribeFunction=function(b,a,c,d){return function(m){if(b){switch(c){default:m=e.pString(m);break;case "bool":case "boolean":m=m?"1":"0";break;case "int":case "integer":case "number":m=e.pInt(m);break;case "trim":m=e.trim(m)}var g={};g[a]=m;b.saveAdminConfig?b.saveAdminConfig(d||null,g):b.saveSettings&&b.saveSettings(d||null,g)}}};e.htmlToPlain=function(a){for(var c=0,d=c=0,m=0,l=0,k="",n=function(b){b=e.trim(b);b="> "+b.replace(/\n/gm,"\n> ");return b.replace(/(^|\n)([> ]+)/gm,
function(){return arguments&&2<arguments.length?arguments[1]+g.trim(arguments[2].replace(/[\s]/g,""))+" ":""})},p=function(){if(arguments&&1<arguments.length){var b=g.trim(arguments[1]);0<b.length&&(b=b.replace(/<div[^>]*>([\s\S\r\n]*)<\/div>/gmi,p),b="\n"+g.trim(b)+"\n");return b}return""},k=a.replace(/\u0002([\s\S]*)\u0002/gm,"\u200c$1\u200c").replace(/<p[^>]*><\/p>/gi,"").replace(/<pre[^>]*>([\s\S\r\n\t]*)<\/pre>/gmi,function(){return arguments&&1<arguments.length?arguments[1].toString().replace(/[\n]/gm,
"<br />").replace(/[\r]/gm,""):""}).replace(/[\s]+/gm," ").replace(/((?:href|data)\s?=\s?)("[^"]+?"|'[^']+?')/gmi,function(){return arguments&&1<arguments.length?""+arguments[1]+b.escape(arguments[2]):""}).replace(/<br[^>]*>/gmi,"\n").replace(/<\/h[\d]>/gi,"\n").replace(/<\/p>/gi,"\n\n").replace(/<ul[^>]*>/gmi,"\n").replace(/<\/ul>/gi,"\n").replace(/<li[^>]*>/gmi," * ").replace(/<\/li>/gi,"\n").replace(/<\/td>/gi,"\n").replace(/<\/tr>/gi,"\n").replace(/<hr[^>]*>/gmi,"\n_______________________________\n\n").replace(/<div[^>]*>([\s\S\r\n]*)<\/div>/gmi,
p).replace(/<blockquote[^>]*>/gmi,"\n__bq__start__\n").replace(/<\/blockquote>/gmi,"\n__bq__end__\n").replace(/<a [^>]*>([\s\S\r\n]*?)<\/a>/gmi,function(){return arguments&&1<arguments.length?g.trim(arguments[1]):""}).replace(/<\/div>/gi,"\n").replace(/&nbsp;/gi," ").replace(/&quot;/gi,'"').replace(/<[^>]*>/gm,""),k=f.$div.html(k).text(),k=k.replace(/\n[ \t]+/gm,"\n").replace(/[\n]{3,}/gm,"\n\n").replace(/&gt;/gi,">").replace(/&lt;/gi,"<").replace(/&amp;/gi,"&"),k=e.splitPlainText(e.trim(k)),c=0,
l=800;0<l;)if(l--,c=k.indexOf("__bq__start__",c),-1<c)d=k.indexOf("__bq__start__",c+5),m=k.indexOf("__bq__end__",c+5),(-1===d||m<d)&&c<m?(k=k.substring(0,c)+n(k.substring(c+13,m))+k.substring(m+11),c=0):c=-1<d&&d<m?d-1:0;else break;return k=k.replace(/__bq__start__/gm,"").replace(/__bq__end__/gm,"")};e.plainToHtml=function(b,a){b=b.toString().replace(/\r/g,"");a=e.isUnd(a)?!1:!!a;var c=!1,d=!0,m=!0,g=[],l="",k=0,n=b.split("\n");do{d=!1;g=[];for(k=0;k<n.length;k++)l=n[k],(m=">"===l.substr(0,1))&&!c?
(c=d=!0,g.push("~~~blockquote~~~"),g.push(l.substr(1))):!m&&c?(""!==l&&(c=!1,g.push("~~~/blockquote~~~")),g.push(l)):m&&c?g.push(l.substr(1)):g.push(l);c&&(c=!1,g.push("~~~/blockquote~~~"));n=g}while(d);b=n.join("\n");b=b.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/~~~blockquote~~~[\s]*/g,"<blockquote>").replace(/[\s]*~~~\/blockquote~~~/g,"</blockquote>").replace(/\u200C([\s\S]*)\u200C/g,"\u0002$1\u0002").replace(/\n/g,"<br />");return a?e.findEmailAndLinks(b):b};d.rainloop_Utils_htmlToPlain=
e.htmlToPlain;d.rainloop_Utils_plainToHtml=e.plainToHtml;e.findEmailAndLinks=function(b){return b=k.link(b,{newWindow:!0,stripPrefix:!1,urls:!0,email:!0,twitter:!1,replaceFn:function(b,a){return!(b&&a&&"url"===a.getType()&&a.matchedText&&0!==a.matchedText.indexOf("http"))}})};e.resizeAndCrop=function(b,a,c){var m=new d.Image;m.onload=function(){var b=[0,0],m=d.document.createElement("canvas"),g=m.getContext("2d");m.width=a;m.height=a;b=this.width>this.height?[this.width-this.height,0]:[0,this.height-
this.width];g.fillStyle="#fff";g.fillRect(0,0,a,a);g.drawImage(this,b[0]/2,b[1]/2,this.width-b[0],this.height-b[1],0,0,a,a);c(m.toDataURL("image/jpeg"))};m.src=b};e.folderListOptionsBuilder=function(b,a,c,m,g,l,k,n,p,f){var q=null,h=!1,y=0,D=0,A=[];f=e.isUnd(f)?!1:!!f;p=e.isNormal(p)?p:0<b.length;g=e.isNormal(g)?g:0;l=e.isNormal(l)?l:null;k=e.isNormal(k)?k:null;n=e.isNormal(n)?n:null;e.isArray(c)||(c=[]);e.isArray(m)||(m=[]);y=0;for(D=m.length;y<D;y++)A.push({id:m[y][0],name:m[y][1],system:!1,seporator:!1,
disabled:!1});h=!0;y=0;for(D=b.length;y<D;y++)if(q=b[y],k?k.call(null,q):1)h&&0<A.length&&A.push({id:"---",name:"---",system:!1,seporator:!0,disabled:!0}),h=!1,A.push({id:q.fullNameRaw,name:n?n.call(null,q):q.name(),system:!0,seporator:!1,disabled:!q.selectable||-1<e.inArray(q.fullNameRaw,c)||(l?l.call(null,q):!1)});h=!0;y=0;for(D=a.length;y<D;y++)q=a[y],!q.subScribed()&&q.existen&&!f||!q.selectable&&!q.hasSubScribedSubfolders()||k&&!k.call(null,q)||r.FolderType.User!==q.type()&&p&&!q.hasSubScribedSubfolders()||
(h&&0<A.length&&A.push({id:"---",name:"---",system:!1,seporator:!0,disabled:!0}),h=!1,A.push({id:q.fullNameRaw,name:(new d.Array(q.deep+1-g)).join("\u00a0\u00a0\u00a0")+(n?n.call(null,q):q.name()),system:!1,seporator:!1,disabled:!q.selectable||-1<e.inArray(q.fullNameRaw,c)||(l?l.call(null,q):!1)})),q.subScribed()&&0<q.subFolders().length&&(A=A.concat(e.folderListOptionsBuilder([],q.subFolders(),c,[],g,l,k,n,p,f)));return A};e.computedPagenatorHelper=function(b,a){return function(){var c=0,m=0,g=2,
l=[],k=b(),n=a(),p=function(b,a,c){b={current:b===k,name:e.isUnd(c)?b.toString():c.toString(),custom:e.isUnd(c)?!1:!0,title:e.isUnd(c)?"":b.toString(),value:b.toString()};e.isUnd(a)||a?l.push(b):l.unshift(b)};if(1<n||0<n&&n<k){if(n<k)p(n),m=c=n;else{if(3>=k||n-2<=k)g+=2;p(k);m=c=k}for(;0<g;)if(--c,m+=1,0<c&&(p(c,!1),g--),n>=m)p(m,!0),g--;else if(0>=c)break;3===c?p(2,!1):3<c&&p(d.Math.round((c-1)/2),!1,"...");n-2===m?p(n-1,!0):n-2>m&&p(d.Math.round((n+m)/2),!0,"...");1<c&&p(1,!1);n>m&&p(n,!0)}return l}};
e.selectElement=function(b){var a,c;d.getSelection?(a=d.getSelection(),a.removeAllRanges(),c=d.document.createRange(),c.selectNodeContents(b),a.addRange(c)):d.document.selection&&(c=d.document.body.createTextRange(),c.moveToElementText(b),c.select())};e.detectDropdownVisibility=b.debounce(function(){f.dropdownVisibility(!!b.find(f.aBootstrapDropdowns,function(b){return b.hasClass("open")}))},50);e.triggerAutocompleteInputChange=function(a){var c=function(){g(".checkAutocomplete").trigger("change")};
(e.isUnd(a)?0:a)?b.delay(c,100):c()};e.setHeadViewport=function(a){var c=[];b.each(a,function(b,a){c.push(""+b+"="+a)});g("#rl-head-viewport").attr("content",c.join(", "))};e.getFileExtension=function(b){b=e.trim(b).toLowerCase();var a=b.split(".").pop();return a===b?"":a};e.configurationScriptTagCache={};e.getConfigurationFromScriptTag=function(b){var a={};e.configurationScriptTagCache[b]||(e.configurationScriptTagCache[b]=g('script[type="application/json"][data-configuration="'+b+'"]'));try{a=m.parse(e.configurationScriptTagCache[b].text())}catch(c){}return a};
e.mimeContentType=function(b){var a="",c="application/octet-stream";b=e.trim(b).toLowerCase();if("winmail.dat"===b)return"application/ms-tnef";(a=e.getFileExtension(b))&&0<a.length&&!e.isUnd(p[a])&&(c=p[a]);return c};e.disposeOne=function(b,a){var c=a||b;c&&"function"===typeof c.dispose&&c.dispose()};e.disposeObject=function(a){a&&(e.isArray(a.disposables)&&b.each(a.disposables,e.disposeOne),l.utils.objectForEach(a,e.disposeOne))};e.delegateRunOnDestroy=function(a){if(a)if(e.isArray(a))b.each(a,function(b){e.delegateRunOnDestroy(b)});
else if(a&&a.onDestroy)a.onDestroy()};e.__themeTimer=0;e.__themeAjax=null;e.changeTheme=function(b,a){var c=g("#rlThemeLink"),m=g("#rlThemeStyle"),l=c.attr("href");l||(l=m.attr("data-href"));l&&(l=l.toString().replace(/\/-\/[^\/]+\/\-\//,"/-/"+b+"/-/"),l=l.toString().replace(/\/Css\/[^\/]+\/User\//,"/Css/0/User/"),l=l.toString().replace(/\/Hash\/[^\/]+\//,"/Hash/-/"),"Json/"!==l.substring(l.length-5,l.length)&&(l+="Json/"),d.clearTimeout(e.__themeTimer),a(r.SaveSettingsStep.Animate),e.__themeAjax&&
e.__themeAjax.abort&&e.__themeAjax.abort(),e.__themeAjax=g.ajax({url:l,dataType:"json"}).done(function(b){b&&e.isArray(b)&&2===b.length&&(!c||!c[0]||m&&m[0]||(m=g('<style id="rlThemeStyle"></style>'),c.after(m),c.remove()),m&&m[0]&&(m.attr("data-href",l).attr("data-theme",b[0]),m[0].styleSheet&&!e.isUnd(m[0].styleSheet.cssText)?m[0].styleSheet.cssText=b[1]:m.text(b[1])),a(r.SaveSettingsStep.TrueResult))}).always(function(){e.__themeTimer=d.setTimeout(function(){a(r.SaveSettingsStep.Idle)},1E3);e.__themeAjax=
null}))};e.substr=d.String.substr;"b"!=="ab".substr(-1)&&(e.substr=function(b,a,c){0>a&&(a=b.length+a);return b.substr(a,c)});h.exports=e})()},function(h,f,c){(function(a){var e=c(11),d=c(3),b=c(14),g=c(36),l=c(54),k=function(b){a.utils.domNodeDisposal.addDisposeCallback(b,function(){b&&b.__opentip&&b.__opentip.deactivate()})};a.bindingHandlers.updateWidth={init:function(c,d){var l=b(e),g=b(c),k=d(),t=function(){k(g.width());e.setTimeout(function(){k(g.width())},500)};l.on("resize",t);t();a.utils.domNodeDisposal.addDisposeCallback(c,
function(){l.off("resize",t)})}};a.bindingHandlers.editor={init:function(b,d){var l=null,g=d(),e=function(){g&&g.__editor&&g.__editor.setHtmlOrPlain(g())},k=function(){g&&g.__editor&&g(g.__editor.getDataWithHtmlMark())},f=function(){g.__editor=l;e()},h=c(45);a.isObservable(g)&&h&&(l=new h(b,k,f,k),g.__fetchEditorValue=k,g.subscribe(e))}};a.bindingHandlers.json={init:function(c,d){b(c).text(g.stringify(a.unwrap(d())))},update:function(c,d){b(c).text(g.stringify(a.unwrap(d())))}};a.bindingHandlers.scrollerShadows=
{init:function(c){var g=b(c),l=b(e),k=g.find("[data-scroller-shadows-content]")[0]||null,f=d.throttle(function(){g.toggleClass("scroller-shadow-top",8<k.scrollTop).toggleClass("scroller-shadow-bottom",k.scrollTop+8<k.scrollHeight-k.clientHeight)},100);k&&(b(k).on("scroll resize",f),l.on("resize",f),a.utils.domNodeDisposal.addDisposeCallback(k,function(){b(k).off();l.off("resize",f)}))}};a.bindingHandlers.tooltip={init:function(m,g){var e=!0,k="",f=null,t=b(m),h=g(),e="on"===(t.data("tooltip-mobile")||
"off"),v=c(8);if(!v.bMobileDevice||e)e="on"===(t.data("tooltip-i18n")||"on"),k=!a.isObservable(h)&&d.isFunction(h)?h():a.unwrap(h),m.__opentip=new l(m,{style:"rainloopTip",element:m,tipJoint:t.data("tooltip-join")||"bottom"}),v.dropdownVisibility.subscribe(function(b){b&&m.__opentip.hide()}),""===k?(m.__opentip.hide(),m.__opentip.deactivate(),m.__opentip.setContent("")):m.__opentip.activate(),e?(f=c(6),m.__opentip.setContent(f.i18n(k)),f.trigger.subscribe(function(){m.__opentip.setContent(f.i18n(k))}),
v.dropdownVisibility.subscribe(function(){m&&m.__opentip&&m.__opentip.setContent(c(6).i18n(k))})):m.__opentip.setContent(k)},update:function(m,g){var l=!0,e="",l=b(m),e=g(),k="on"===(l.data("tooltip-mobile")||"off");c(8).bMobileDevice&&!k||!m.__opentip||(l="on"===(l.data("tooltip-i18n")||"on"),(e=!a.isObservable(e)&&d.isFunction(e)?e():a.unwrap(e))?(m.__opentip.setContent(l?c(6).i18n(e):e),m.__opentip.activate()):(m.__opentip.hide(),m.__opentip.deactivate(),m.__opentip.setContent("")))}};a.bindingHandlers.tooltipErrorTip=
{init:function(a){var c=b(a);a.__opentip=new l(a,{style:"rainloopErrorTip",hideOn:"mouseout click",element:a,tipJoint:c.data("tooltip-join")||"top"});a.__opentip.deactivate();b(e.document).on("click",function(){a&&a.__opentip&&a.__opentip.hide()});k(a)},update:function(c,g){var l=b(c),e=g(),k=!a.isObservable(e)&&d.isFunction(e)?e():a.unwrap(e),f=c.__opentip;f&&(""===k?(f.hide(),f.deactivate(),f.setContent("")):d.delay(function(){l.is(":visible")?(f.setContent(k),f.activate(),f.show()):(f.hide(),f.deactivate(),
f.setContent(""))},100))}};a.bindingHandlers.registrateBootstrapDropdown={init:function(a){var g=c(8);g&&g.aBootstrapDropdowns&&(g.aBootstrapDropdowns.push(b(a)),b(a).click(function(){c(1).detectDropdownVisibility()}))}};a.bindingHandlers.openDropdownTrigger={update:function(g,l){if(a.unwrap(l())){var d=b(g);d.hasClass("open")||d.find(".dropdown-toggle").dropdown("toggle");d.find(".dropdown-toggle").focus();c(1).detectDropdownVisibility();l()(!1)}}};a.bindingHandlers.dropdownCloser={init:function(a){b(a).closest(".dropdown").on("click",
".e-item",function(){b(a).dropdown("toggle")})}};a.bindingHandlers.popover={init:function(c,g){b(c).popover(a.unwrap(g()));a.utils.domNodeDisposal.addDisposeCallback(c,function(){b(c).popover("destroy")})}};a.bindingHandlers.csstext={init:function(c,g){c&&c.styleSheet&&void 0!==c.styleSheet.cssText?c.styleSheet.cssText=a.unwrap(g()):b(c).text(a.unwrap(g()))},update:function(c,g){c&&c.styleSheet&&void 0!==c.styleSheet.cssText?c.styleSheet.cssText=a.unwrap(g()):b(c).text(a.unwrap(g()))}};a.bindingHandlers.resizecrop=
{init:function(a){b(a).addClass("resizecrop").resizecrop({width:"100",height:"100",wrapperCSS:{"border-radius":"10px"}})},update:function(a,c){c()();b(a).resizecrop({width:"100",height:"100"})}};a.bindingHandlers.onEnter={init:function(c,g,d,l){b(c).on("keypress.koOnEnter",function(a){a&&13===e.parseInt(a.keyCode,10)&&(b(c).trigger("change"),g().call(l))});a.utils.domNodeDisposal.addDisposeCallback(c,function(){b(c).off("keypress.koOnEnter")})}};a.bindingHandlers.onSpace={init:function(c,g,l,d){b(c).on("keyup.koOnSpace",
function(b){b&&32===e.parseInt(b.keyCode,10)&&g().call(d,b)});a.utils.domNodeDisposal.addDisposeCallback(c,function(){b(c).off("keyup.koOnSpace")})}};a.bindingHandlers.onTab={init:function(c,g,d,l){b(c).on("keydown.koOnTab",function(b){if(b&&9===e.parseInt(b.keyCode,10))return g().call(l,!!b.shiftKey)});a.utils.domNodeDisposal.addDisposeCallback(c,function(){b(c).off("keydown.koOnTab")})}};a.bindingHandlers.onEsc={init:function(c,g,l,d){b(c).on("keypress.koOnEsc",function(a){a&&27===e.parseInt(a.keyCode,
10)&&(b(c).trigger("change"),g().call(d))});a.utils.domNodeDisposal.addDisposeCallback(c,function(){b(c).off("keypress.koOnEsc")})}};a.bindingHandlers.clickOnTrue={update:function(c,g){a.unwrap(g())&&b(c).click()}};a.bindingHandlers.modal={init:function(g,d){var l=c(8),e=c(1);b(g).toggleClass("fade",!l.bMobileDevice).modal({keyboard:!1,show:a.unwrap(d())}).on("shown.koModal",e.windowResizeCallback).find(".close").on("click.koModal",function(){d()(!1)});a.utils.domNodeDisposal.addDisposeCallback(g,
function(){b(g).off("shown.koModal").find(".close").off("click.koModal")})},update:function(g,l){var e=c(8);b(g).modal(a.unwrap(l())?"show":"hide");e.$html.hasClass("rl-anim")&&(e.$html.addClass("rl-modal-animation"),d.delay(function(){e.$html.removeClass("rl-modal-animation")},400))}};a.bindingHandlers.moment={init:function(g,l){c(26).momentToNode(b(g).addClass("moment").data("moment-time",a.unwrap(l())))},update:function(g,l){c(26).momentToNode(b(g).data("moment-time",a.unwrap(l())))}};a.bindingHandlers.i18nInit=
{init:function(b){c(6).i18nToNodes(b)}};a.bindingHandlers.translatorInit={init:function(b){c(6).i18nToNodes(b)}};a.bindingHandlers.i18nUpdate={update:function(b,g){a.unwrap(g());c(6).i18nToNodes(b)}};a.bindingHandlers.link={update:function(c,g){b(c).attr("href",a.unwrap(g()))}};a.bindingHandlers.title={update:function(c,g){b(c).attr("title",a.unwrap(g()))}};a.bindingHandlers.textF={init:function(c,g){b(c).text(a.unwrap(g()))}};a.bindingHandlers.initDom={init:function(b,a){a()(b)}};a.bindingHandlers.initFixedTrigger=
{init:function(c,g){var l=a.unwrap(g()),d=null,k=b(c),f=null,h=l[1]||0,d=b(l[0]||null);(d=d[0]?d:null)&&b(e).resize(function(){(f=d.offset())&&f.top&&k.css("top",f.top+h)})}};a.bindingHandlers.initResizeTrigger={init:function(c,g){var l=a.unwrap(g());b(c).css({height:l[1],"min-height":l[1]})},update:function(g,l){var d=c(1),e=c(8),k=a.unwrap(l()),f=d.pInt(k[1]),h=0,h=b(g).offset().top;0<h&&(h+=d.pInt(k[2]),h=e.$win.height()-h,f<h&&(f=h),b(g).css({height:f,"min-height":f}))}};a.bindingHandlers.appendDom=
{update:function(c,g){b(c).hide().empty().append(a.unwrap(g())).show()}};a.bindingHandlers.draggable={init:function(g,l,d){var k=c(8),f=c(1);if(!k.bMobileDevice){var t=(d=d())&&d.droppableSelector?d.droppableSelector:"";d={distance:20,handle:".dragHandle",cursorAt:{top:22,left:3},refreshPositions:!0,scroll:!0};t&&(d.drag=function(a){b(t).each(function(){var c=null,g=null,d=b(this),g=d.offset(),c=g.top+d.height();e.clearInterval(d.data("timerScroll"));d.data("timerScroll",!1);a.pageX>=g.left&&a.pageX<=
g.left+d.width()&&(a.pageY>=c-100&&a.pageY<=c&&(c=function(){d.scrollTop(d.scrollTop()+3);f.windowResize()},d.data("timerScroll",e.setInterval(c,10)),c()),a.pageY>=g.top&&a.pageY<=g.top+100&&(g=function(){d.scrollTop(d.scrollTop()-3);f.windowResize()},d.data("timerScroll",e.setInterval(g,10)),g()))})},d.stop=function(){b(t).each(function(){e.clearInterval(b(this).data("timerScroll"));b(this).data("timerScroll",!1)})});d.helper=function(b){return l()(b&&b.target?a.dataFor(b.target):null)};b(g).draggable(d).on("mousedown.koDraggable",
function(){f.removeInFocus()});a.utils.domNodeDisposal.addDisposeCallback(g,function(){b(g).off("mousedown.koDraggable").draggable("destroy")})}}};a.bindingHandlers.droppable={init:function(g,d,l){if(!c(8).bMobileDevice){var e=d(),k=(d=l())&&d.droppableOver?d.droppableOver:null,f=d&&d.droppableOut?d.droppableOut:null;d={tolerance:"pointer",hoverClass:"droppableHover"};e&&(d.drop=function(b,a){e(b,a)},k&&(d.over=function(b,a){k(b,a)}),f&&(d.out=function(b,a){f(b,a)}),b(g).droppable(d),a.utils.domNodeDisposal.addDisposeCallback(g,
function(){b(g).droppable("destroy")}))}}};a.bindingHandlers.nano={init:function(a){c(8).bDisableNanoScroll||b(a).addClass("nano").nanoScroller({iOSNativeScrolling:!1,preventPageScrolling:!0})}};a.bindingHandlers.saveTrigger={init:function(a){a=b(a);a.data("save-trigger-type",a.is("input[type=text],input[type=email],input[type=password],select,textarea")?"input":"custom");"custom"===a.data("save-trigger-type")?a.append('&nbsp;&nbsp;<i class="icon-spinner animated"></i><i class="icon-remove error"></i><i class="icon-ok success"></i>').addClass("settings-saved-trigger"):
a.addClass("settings-saved-trigger-input")},update:function(c,g){var d=a.unwrap(g()),l=b(c);if("custom"===l.data("save-trigger-type"))switch(d.toString()){case "1":l.find(".animated,.error").hide().removeClass("visible").end().find(".success").show().addClass("visible");break;case "0":l.find(".animated,.success").hide().removeClass("visible").end().find(".error").show().addClass("visible");break;case "-2":l.find(".error,.success").hide().removeClass("visible").end().find(".animated").show().addClass("visible");
break;default:l.find(".animated").hide().end().find(".error,.success").removeClass("visible")}else switch(d.toString()){case "1":l.addClass("success").removeClass("error");break;case "0":l.addClass("error").removeClass("success");break;case "-2":break;default:l.removeClass("error success")}}};a.bindingHandlers.emailsTags={init:function(a,g,l){var e=c(1),k=c(30),f=b(a),h=g();a=l().autoCompleteSource||null;f.inputosaurus({parseOnBlur:!0,allowDragAndDrop:!0,focusCallback:function(b){h&&h.focused&&h.focused(!!b)},
inputDelimiters:[",",";","\n"],autoCompleteSource:a,parseHook:function(b){return d.map(b,function(b){b=e.trim(b);var a=null;return""!==b?(a=new k,a.mailsoParse(b),[a.toLine(!1),a]):[b,null]})},change:d.bind(function(b){f.data("EmailsTagsValue",b.target.value);h(b.target.value)},this)});h&&h.focused&&h.focused.subscribe&&h.focused.subscribe(function(b){f.inputosaurus(b?"focus":"blur")})},update:function(c,g){var d=b(c),l=g(),l=a.unwrap(l);d.data("EmailsTagsValue")!==l&&(d.val(l),d.data("EmailsTagsValue",
l),d.inputosaurus("refresh"))}};a.bindingHandlers.command={init:function(c,g,d,l){var e=b(c),k=g();if(!k||!k.enabled||!k.canExecute)throw Error("You are not using command function");e.addClass("command");a.bindingHandlers[e.is("form")?"submit":"click"].init.apply(l,arguments)},update:function(a,c){var g=!0,d=b(a),l=c(),g=l.enabled();d.toggleClass("command-not-enabled",!g);g&&(g=l.canExecute(),d.toggleClass("command-can-not-be-execute",!g));d.toggleClass("command-disabled disable disabled",!g).toggleClass("no-disabled",
!!g);(d.is("input")||d.is("button"))&&d.prop("disabled",!g)}};a.extenders.trimmer=function(b){var g=c(1),d=a.computed({read:b,write:function(a){b(g.trim(a.toString()))},owner:this});d(b());return d};a.extenders.posInterer=function(b,g){var d=c(1),l=a.computed({read:b,write:function(a){var c=d.pInt(a.toString(),g);0>=c&&(c=g);c===b()&&""+c!==""+a&&b(c+1);b(c)}});l(b());return l};a.extenders.limitedList=function(b,g){var d=c(1),l=a.computed({read:b,write:function(c){var l=a.unwrap(b),e=a.unwrap(g);
d.isNonEmptyArray(e)?-1<d.inArray(c,e)?b(c):-1<d.inArray(l,e)?(b(l+" "),b(l)):(b(e[0]+" "),b(e[0])):b("")}}).extend({notify:"always"});l(b());l.valueHasMutated||(l.valueHasMutated=function(){b.valueHasMutated()});return l};a.extenders.reversible=function(b){var a=b();b.commit=function(){a=b()};b.reverse=function(){b(a)};b.commitedValue=function(){return a};return b};a.extenders.toggleSubscribe=function(b,a){b.subscribe(a[1],a[0],"beforeChange");b.subscribe(a[2],a[0]);return b};a.extenders.toggleSubscribeProperty=
function(b,a){var c=a[1];c&&(b.subscribe(function(b){if(b&&b[c])b[c](!1)},a[0],"beforeChange"),b.subscribe(function(b){if(b&&b[c])b[c](!0)},a[0]));return b};a.extenders.falseTimeout=function(b,a){b.iFalseTimeoutTimeout=0;b.subscribe(function(g){g&&(e.clearTimeout(b.iFalseTimeoutTimeout),b.iFalseTimeoutTimeout=e.setTimeout(function(){b(!1);b.iFalseTimeoutTimeout=0},c(1).pInt(a)))});return b};a.extenders.specialThrottle=function(b,g){b.iSpecialThrottleTimeoutValue=c(1).pInt(g);return 0<b.iSpecialThrottleTimeoutValue?
(b.iSpecialThrottleTimeout=0,b.valueForRead=a.observable(!!b()).extend({throttle:10}),a.computed({read:b.valueForRead,write:function(a){a?b.valueForRead(a):b.valueForRead()?(e.clearTimeout(b.iSpecialThrottleTimeout),b.iSpecialThrottleTimeout=e.setTimeout(function(){b.valueForRead(!1);b.iSpecialThrottleTimeout=0},b.iSpecialThrottleTimeoutValue)):b.valueForRead(a)}})):b};a.observable.fn.validateNone=function(){this.hasError=a.observable(!1);return this};a.observable.fn.validateEmail=function(){var b=
c(1);this.hasError=a.observable(!1);this.subscribe(function(a){a=b.trim(a);this.hasError(""!==a&&!/^[^@\s]+@[^@\s]+$/.test(a))},this);this.valueHasMutated();return this};a.observable.fn.validateSimpleEmail=function(){var b=c(1);this.hasError=a.observable(!1);this.subscribe(function(a){a=b.trim(a);this.hasError(""!==a&&!/^.+@.+$/.test(a))},this);this.valueHasMutated();return this};a.observable.fn.deleteAccessHelper=function(){this.extend({falseTimeout:3E3}).extend({toggleSubscribe:[null,function(b){b&&
b.deleteAccess&&b.deleteAccess(!1)},function(b){b&&b.deleteAccess&&b.deleteAccess(!0)}]});return this};a.observable.fn.validateFunc=function(b){var g=c(1);this.hasFuncError=a.observable(!1);g.isFunc(b)&&(this.subscribe(function(a){this.hasFuncError(!b(a))},this),this.valueHasMutated());return this};h.exports=a})(ko)},function(h,f){h.exports=window._},function(h,f){f.__esModule=!0;f.FileType={Unknown:"unknown",Text:"text",Html:"html",Code:"code",Eml:"eml",WordText:"word-text",Pdf:"pdf",Image:"image",
Audio:"audio",Video:"video",Sheet:"sheet",Presentation:"presentation",Certificate:"certificate",CertificateBin:"certificate-bin",Archive:"archive"};f.StorageResultType={Success:"success",Abort:"abort",Error:"error",Unload:"unload"};f.Focused={None:"none",MessageList:"message-list",MessageView:"message-view",FolderList:"folder-list"};f.State={Empty:10,Login:20,Auth:30};f.StateType={Webmail:0,Admin:1};f.Capa={TwoFactor:"TWO_FACTOR",TwoFactorForce:"TWO_FACTOR_FORCE",OpenPGP:"OPEN_PGP",Prefetch:"PREFETCH",
Gravatar:"GRAVATAR",Folders:"FOLDERS",Composer:"COMPOSER",Contacts:"CONTACTS",Reload:"RELOAD",Search:"SEARCH",SearchAdv:"SEARCH_ADV",MessageActions:"MESSAGE_ACTIONS",MessageListActions:"MESSAGELIST_ACTIONS",AttachmentsActions:"ATTACHMENTS_ACTIONS",DangerousActions:"DANGEROUS_ACTIONS",Settings:"SETTINGS",Help:"HELP",Themes:"THEMES",UserBackground:"USER_BACKGROUND",Sieve:"SIEVE",Filters:"FILTERS",AttachmentThumbnails:"ATTACHMENT_THUMBNAILS",Templates:"TEMPLATES",AutoLogout:"AUTOLOGOUT",AdditionalAccounts:"ADDITIONAL_ACCOUNTS",
Identities:"IDENTITIES"};f.KeyState={All:"all",None:"none",ContactList:"contact-list",MessageList:"message-list",FolderList:"folder-list",MessageView:"message-view",Compose:"compose",Settings:"settings",Menu:"menu",PopupComposeOpenPGP:"compose-open-pgp",PopupMessageOpenPGP:"message-open-pgp",PopupViewOpenPGP:"view-open-pgp",PopupKeyboardShortcutsHelp:"popup-keyboard-shortcuts-help",PopupAsk:"popup-ask"};f.FolderType={Inbox:10,SentItems:11,Draft:12,Trash:13,Spam:14,Archive:15,NotSpam:80,User:99};f.ServerFolderType=
{USER:0,INBOX:1,SENT:2,DRAFTS:3,JUNK:4,TRASH:5,IMPORTANT:10,FLAGGED:11,ALL:12};f.LoginSignMeTypeAsString={DefaultOff:"defaultoff",DefaultOn:"defaulton",Unused:"unused"};f.LoginSignMeType={DefaultOff:0,DefaultOn:1,Unused:2};f.ComposeType={Empty:"empty",Reply:"reply",ReplyAll:"replyall",Forward:"forward",ForwardAsAttachment:"forward-as-attachment",Draft:"draft",EditAsNew:"editasnew"};f.UploadErrorCode={Normal:0,FileIsTooBig:1,FilePartiallyUploaded:2,FileNoUploaded:3,MissingTempFolder:4,FileOnSaveingError:5,
FileType:98,Unknown:99};f.SetSystemFoldersNotification={None:0,Sent:1,Draft:2,Spam:3,Trash:4,Archive:5};f.ClientSideKeyName={FoldersLashHash:0,MessagesInboxLastHash:1,MailBoxListSize:2,ExpandedFolders:3,FolderListSize:4,MessageListSize:5,LastReplyAction:6,LastSignMe:7,ComposeLastIdentityID:8};f.EventKeyCode={Backspace:8,Tab:9,Enter:13,Esc:27,PageUp:33,PageDown:34,Left:37,Right:39,Up:38,Down:40,End:35,Home:36,Space:32,Insert:45,Delete:46,A:65,S:83};f.MessageSetAction={SetSeen:0,UnsetSeen:1,SetFlag:2,
UnsetFlag:3};f.MessageSelectAction={All:0,None:1,Invert:2,Unseen:3,Seen:4,Flagged:5,Unflagged:6};f.DesktopNotification={Allowed:0,NotAllowed:1,Denied:2,NotSupported:9};f.MessagePriority={Low:5,Normal:3,High:1};f.EditorDefaultType={Html:"Html",Plain:"Plain",HtmlForced:"HtmlForced",PlainForced:"PlainForced"};f.ServerSecure={None:0,SSL:1,TLS:2};f.SearchDateType={All:-1,Days3:3,Days7:7,Month:30};f.SaveSettingsStep={Animate:-2,Idle:-1,TrueResult:1,FalseResult:0};f.Layout={NoPreview:0,SidePreview:1,BottomPreview:2,
Mobile:3};f.FilterConditionField={From:"From",Recipient:"Recipient",Subject:"Subject",Header:"Header",Size:"Size"};f.FilterConditionType={Contains:"Contains",NotContains:"NotContains",EqualTo:"EqualTo",NotEqualTo:"NotEqualTo",Over:"Over",Under:"Under"};f.FiltersAction={None:"None",MoveTo:"MoveTo",Discard:"Discard",Vacation:"Vacation",Reject:"Reject",Forward:"Forward"};f.FilterRulesType={All:"All",Any:"Any"};f.SignedVerifyStatus={UnknownPublicKeys:-4,UnknownPrivateKey:-3,Unverified:-2,Error:-1,None:0,
Success:1};f.ContactPropertyType={Unknown:0,FullName:10,FirstName:15,LastName:16,MiddleName:16,Nick:18,NamePrefix:20,NameSuffix:21,Email:30,Phone:31,Web:32,Birthday:40,Facebook:90,Skype:91,GitHub:92,Note:110,Custom:250};f.Notification={InvalidToken:101,AuthError:102,AccessError:103,ConnectionError:104,CaptchaError:105,SocialFacebookLoginAccessDisable:106,SocialTwitterLoginAccessDisable:107,SocialGoogleLoginAccessDisable:108,DomainNotAllowed:109,AccountNotAllowed:110,AccountTwoFactorAuthRequired:120,
AccountTwoFactorAuthError:121,CouldNotSaveNewPassword:130,CurrentPasswordIncorrect:131,NewPasswordShort:132,NewPasswordWeak:133,NewPasswordForbidden:134,ContactsSyncError:140,CantGetMessageList:201,CantGetMessage:202,CantDeleteMessage:203,CantMoveMessage:204,CantCopyMessage:205,CantSaveMessage:301,CantSendMessage:302,InvalidRecipients:303,CantSaveFilters:351,CantGetFilters:352,FiltersAreNotCorrect:355,CantCreateFolder:400,CantRenameFolder:401,CantDeleteFolder:402,CantSubscribeFolder:403,CantUnsubscribeFolder:404,
CantDeleteNonEmptyFolder:405,CantSaveSettings:501,CantSavePluginSettings:502,DomainAlreadyExists:601,CantInstallPackage:701,CantDeletePackage:702,InvalidPluginPackage:703,UnsupportedPluginPackage:704,LicensingServerIsUnavailable:710,LicensingExpired:711,LicensingBanned:712,DemoSendMessageError:750,DemoAccountError:751,AccountAlreadyExists:801,AccountDoesNotExist:802,MailServerError:901,ClientViewError:902,InvalidInputArgument:903,AjaxFalse:950,AjaxAbort:951,AjaxParse:952,AjaxTimeout:953,UnknownNotification:999,
UnknownError:999}},function(h,f,c){(function(){function a(){this.oScreens={};this.sDefaultScreenName="";this.oCurrentScreen=null}var e=c(3),d=c(14),b=c(2),g=c(81),l=c(49),k=c(8),m=c(23),n=c(1);a.prototype.oScreens={};a.prototype.sDefaultScreenName="";a.prototype.oCurrentScreen=null;a.prototype.hideLoading=function(){d("#rl-content").show();d("#rl-loading").hide().remove()};a.prototype.constructorEnd=function(b){n.isFunc(b.__constructor_end)&&b.__constructor_end.call(b)};a.prototype.extendAsViewModel=
function(b,a){a&&(n.isArray(b)?a.__names=b:a.__names=[b],a.__name=a.__names[0])};a.prototype.addSettingsViewModel=function(b,a,c,g,d){b.__rlSettingsData={Label:c,Template:a,Route:g,IsDefault:!!d};k.aViewModels.settings.push(b)};a.prototype.removeSettingsViewModel=function(b){k.aViewModels["settings-removed"].push(b)};a.prototype.disableSettingsViewModel=function(b){k.aViewModels["settings-disabled"].push(b)};a.prototype.routeOff=function(){g.changed.active=!1};a.prototype.routeOn=function(){g.changed.active=
!0};a.prototype.screen=function(b){return""===b||n.isUnd(this.oScreens[b])?null:this.oScreens[b]};a.prototype.buildViewModel=function(a,c){if(a&&!a.__builded){var g=this,l=new a(c),f=l.viewModelPosition(),h=d("#rl-content #rl-"+f.toLowerCase()),u=null;a.__builded=!0;a.__vm=l;l.onShowTrigger=b.observable(!1);l.onHideTrigger=b.observable(!1);l.viewModelName=a.__name;l.viewModelNames=a.__names;h&&1===h.length?(u=d("<div></div>").addClass("rl-view-model").addClass("RL-"+l.viewModelTemplate()).hide(),
u.appendTo(h),l.viewModelDom=u,a.__dom=u,"Popups"===f&&(l.cancelCommand=l.closeCommand=n.createCommand(l,function(){g.hideScreenPopup(a)}),l.modalVisibility.subscribe(function(b){var a=this;if(b){this.viewModelDom.show();this.storeAndSetKeyScope();k.popupVisibilityNames.push(this.viewModelName);l.viewModelDom.css("z-index",3E3+k.popupVisibilityNames().length+10);if(this.onShowTrigger)this.onShowTrigger(!this.onShowTrigger());n.delegateRun(this,"onShowWithDelay",[],500)}else{n.delegateRun(this,"onHide");
n.delegateRun(this,"onHideWithDelay",[],500);if(this.onHideTrigger)this.onHideTrigger(!this.onHideTrigger());this.restoreKeyScope();e.each(this.viewModelNames,function(b){m.runHook("view-model-on-hide",[b,a])});k.popupVisibilityNames.remove(this.viewModelName);l.viewModelDom.css("z-index",2E3);e.delay(function(){a.viewModelDom.hide()},300)}},l)),e.each(a.__names,function(b){m.runHook("view-model-pre-build",[b,l,u])}),b.applyBindingAccessorsToNode(u[0],{translatorInit:!0,template:function(){return{name:l.viewModelTemplate()}}},
l),n.delegateRun(l,"onBuild",[u]),l&&"Popups"===f&&l.registerPopupKeyDown(),e.each(a.__names,function(b){m.runHook("view-model-post-build",[b,l,u])})):n.log("Cannot find view model position: "+f)}return a?a.__vm:null};a.prototype.hideScreenPopup=function(b){b&&b.__vm&&b.__dom&&b.__vm.modalVisibility(!1)};a.prototype.showScreenPopup=function(b,a){b&&(this.buildViewModel(b),b.__vm&&b.__dom&&(n.delegateRun(b.__vm,"onBeforeShow",a||[]),b.__vm.modalVisibility(!0),n.delegateRun(b.__vm,"onShow",a||[]),e.each(b.__names,
function(c){m.runHook("view-model-on-show",[c,b.__vm,a||[]])})))};a.prototype.isPopupVisible=function(b){return b&&b.__vm?b.__vm.modalVisibility():!1};a.prototype.screenOnRoute=function(b,a){var c=this,g=null,l=!1,d=null;""===n.pString(b)&&(b=this.sDefaultScreenName);""!==b&&(g=this.screen(b),!g&&(g=this.screen(this.sDefaultScreenName))&&(a=b+"/"+a,b=this.sDefaultScreenName),g&&g.__started&&(l=this.oCurrentScreen&&g===this.oCurrentScreen,g.__builded||(g.__builded=!0,n.isNonEmptyArray(g.viewModels())&&
e.each(g.viewModels(),function(b){this.buildViewModel(b,g)},this),n.delegateRun(g,"onBuild")),e.defer(function(){if(c.oCurrentScreen&&!l){n.delegateRun(c.oCurrentScreen,"onHide");n.delegateRun(c.oCurrentScreen,"onHideWithDelay",[],500);if(c.oCurrentScreen.onHideTrigger)c.oCurrentScreen.onHideTrigger(!c.oCurrentScreen.onHideTrigger());n.isNonEmptyArray(c.oCurrentScreen.viewModels())&&e.each(c.oCurrentScreen.viewModels(),function(b){if(b.__vm&&b.__dom&&"Popups"!==b.__vm.viewModelPosition()&&(b.__dom.hide(),
b.__vm.viewModelVisibility(!1),n.delegateRun(b.__vm,"onHide"),n.delegateRun(b.__vm,"onHideWithDelay",[],500),b.__vm.onHideTrigger))b.__vm.onHideTrigger(!b.__vm.onHideTrigger())})}c.oCurrentScreen=g;if(c.oCurrentScreen&&!l){n.delegateRun(c.oCurrentScreen,"onShow");if(c.oCurrentScreen.onShowTrigger)c.oCurrentScreen.onShowTrigger(!c.oCurrentScreen.onShowTrigger());m.runHook("screen-on-show",[c.oCurrentScreen.screenName(),c.oCurrentScreen]);n.isNonEmptyArray(c.oCurrentScreen.viewModels())&&e.each(c.oCurrentScreen.viewModels(),
function(b){if(b.__vm&&b.__dom&&"Popups"!==b.__vm.viewModelPosition()){n.delegateRun(b.__vm,"onBeforeShow");b.__dom.show();b.__vm.viewModelVisibility(!0);n.delegateRun(b.__vm,"onShow");if(b.__vm.onShowTrigger)b.__vm.onShowTrigger(!b.__vm.onShowTrigger());n.delegateRun(b.__vm,"onShowWithDelay",[],200);e.each(b.__names,function(a){m.runHook("view-model-on-show",[a,b.__vm])})}},c)}(d=g.__cross?g.__cross():null)&&d.parse(a)})))};a.prototype.startScreens=function(b){d("#rl-content").css({visibility:"hidden"});
e.each(b,function(b){if(b){var a=(b=new b)?b.screenName():"";b&&""!==a&&(""===this.sDefaultScreenName&&(this.sDefaultScreenName=a),this.oScreens[a]=b)}},this);e.each(this.oScreens,function(b){b&&!b.__started&&b.__start&&(b.__started=!0,b.__start(),m.runHook("screen-pre-start",[b.screenName(),b]),n.delegateRun(b,"onStart"),m.runHook("screen-post-start",[b.screenName(),b]))},this);b=l.create();b.addRoute(/^([a-zA-Z0-9\-]*)\/?(.*)$/,e.bind(this.screenOnRoute,this));g.initialized.add(b.parse,b);g.changed.add(b.parse,
b);g.init();d("#rl-content").css({visibility:"visible"});e.delay(function(){k.$html.removeClass("rl-started-trigger").addClass("rl-started")},100);e.delay(function(){k.$html.addClass("rl-started-delay")},200)};a.prototype.setHash=function(b,a,c){b="#"===b.substr(0,1)?b.substr(1):b;b="/"===b.substr(0,1)?b.substr(1):b;c=n.isUnd(c)?!1:!!c;(n.isUnd(a)?0:a)?(g.changed.active=!1,g[c?"replaceHash":"setHash"](b),g.changed.active=!0):(g.changed.active=!0,g[c?"replaceHash":"setHash"](b),g.setHash(b))};h.exports=
new a})()},function(h,f,c){function a(b){return b&&b.__esModule?b:{default:b}}var e=c(13);f=c(2);var d=a(f),b=c(4);f=c(1);var g=a(f);f=c(8);var l=a(f);f=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.data={};this.notificationI18N={};this.data=e.window.rainloopI18N||{};this.trigger=d.default.observable(!1);this.i18n=e._.bind(this.i18n,this);this.init()}a.prototype.i18n=function(b,a,c){var g="",l=this.data[b];e._.isUndefined(l)&&(l=e._.isUndefined(c)?
b:c);if(!e._.isUndefined(a)&&!e._.isNull(a))for(g in a)e._.has(a,g)&&(l=l.replace("%"+g+"%",a[g]));return l};a.prototype.i18nToNode=function(b){b=(0,e.$)(b);var a=b.data("i18n");if(a)if("["===a.substr(0,1))switch(a.substr(0,6)){case "[html]":b.html(this.i18n(a.substr(6)));break;case "[place":b.attr("placeholder",this.i18n(a.substr(13)));break;case "[title":b.attr("title",this.i18n(a.substr(7)))}else b.text(this.i18n(a))};a.prototype.i18nToNodes=function(b){var a=this,c=1>=arguments.length||void 0===
arguments[1]?!1:arguments[1];e._.defer(function(){(0,e.$)("[data-i18n]",b).each(function(b,c){a.i18nToNode(c)});c&&l.default.bAnimationSupported&&(0,e.$)(".i18n-animation[data-i18n]",b).letterfx({fx:"fall fade",backwards:!1,timing:50,fx_duration:"50ms",letter_end:"restore",element_end:"restore"})})};a.prototype.reloadData=function(){e.window.rainloopI18N&&(this.data=e.window.rainloopI18N||{},this.i18nToNodes(e.window.document,!0),c(26).reload(),this.trigger(!this.trigger()));e.window.rainloopI18N=
null};a.prototype.initNotificationLanguage=function(){var a=this,c=[[b.Notification.InvalidToken,"NOTIFICATIONS/INVALID_TOKEN"],[b.Notification.InvalidToken,"NOTIFICATIONS/INVALID_TOKEN"],[b.Notification.AuthError,"NOTIFICATIONS/AUTH_ERROR"],[b.Notification.AccessError,"NOTIFICATIONS/ACCESS_ERROR"],[b.Notification.ConnectionError,"NOTIFICATIONS/CONNECTION_ERROR"],[b.Notification.CaptchaError,"NOTIFICATIONS/CAPTCHA_ERROR"],[b.Notification.SocialFacebookLoginAccessDisable,"NOTIFICATIONS/SOCIAL_FACEBOOK_LOGIN_ACCESS_DISABLE"],
[b.Notification.SocialTwitterLoginAccessDisable,"NOTIFICATIONS/SOCIAL_TWITTER_LOGIN_ACCESS_DISABLE"],[b.Notification.SocialGoogleLoginAccessDisable,"NOTIFICATIONS/SOCIAL_GOOGLE_LOGIN_ACCESS_DISABLE"],[b.Notification.DomainNotAllowed,"NOTIFICATIONS/DOMAIN_NOT_ALLOWED"],[b.Notification.AccountNotAllowed,"NOTIFICATIONS/ACCOUNT_NOT_ALLOWED"],[b.Notification.AccountTwoFactorAuthRequired,"NOTIFICATIONS/ACCOUNT_TWO_FACTOR_AUTH_REQUIRED"],[b.Notification.AccountTwoFactorAuthError,"NOTIFICATIONS/ACCOUNT_TWO_FACTOR_AUTH_ERROR"],
[b.Notification.CouldNotSaveNewPassword,"NOTIFICATIONS/COULD_NOT_SAVE_NEW_PASSWORD"],[b.Notification.CurrentPasswordIncorrect,"NOTIFICATIONS/CURRENT_PASSWORD_INCORRECT"],[b.Notification.NewPasswordShort,"NOTIFICATIONS/NEW_PASSWORD_SHORT"],[b.Notification.NewPasswordWeak,"NOTIFICATIONS/NEW_PASSWORD_WEAK"],[b.Notification.NewPasswordForbidden,"NOTIFICATIONS/NEW_PASSWORD_FORBIDDENT"],[b.Notification.ContactsSyncError,"NOTIFICATIONS/CONTACTS_SYNC_ERROR"],[b.Notification.CantGetMessageList,"NOTIFICATIONS/CANT_GET_MESSAGE_LIST"],
[b.Notification.CantGetMessage,"NOTIFICATIONS/CANT_GET_MESSAGE"],[b.Notification.CantDeleteMessage,"NOTIFICATIONS/CANT_DELETE_MESSAGE"],[b.Notification.CantMoveMessage,"NOTIFICATIONS/CANT_MOVE_MESSAGE"],[b.Notification.CantCopyMessage,"NOTIFICATIONS/CANT_MOVE_MESSAGE"],[b.Notification.CantSaveMessage,"NOTIFICATIONS/CANT_SAVE_MESSAGE"],[b.Notification.CantSendMessage,"NOTIFICATIONS/CANT_SEND_MESSAGE"],[b.Notification.InvalidRecipients,"NOTIFICATIONS/INVALID_RECIPIENTS"],[b.Notification.CantSaveFilters,
"NOTIFICATIONS/CANT_SAVE_FILTERS"],[b.Notification.CantGetFilters,"NOTIFICATIONS/CANT_GET_FILTERS"],[b.Notification.FiltersAreNotCorrect,"NOTIFICATIONS/FILTERS_ARE_NOT_CORRECT"],[b.Notification.CantCreateFolder,"NOTIFICATIONS/CANT_CREATE_FOLDER"],[b.Notification.CantRenameFolder,"NOTIFICATIONS/CANT_RENAME_FOLDER"],[b.Notification.CantDeleteFolder,"NOTIFICATIONS/CANT_DELETE_FOLDER"],[b.Notification.CantDeleteNonEmptyFolder,"NOTIFICATIONS/CANT_DELETE_NON_EMPTY_FOLDER"],[b.Notification.CantSubscribeFolder,
"NOTIFICATIONS/CANT_SUBSCRIBE_FOLDER"],[b.Notification.CantUnsubscribeFolder,"NOTIFICATIONS/CANT_UNSUBSCRIBE_FOLDER"],[b.Notification.CantSaveSettings,"NOTIFICATIONS/CANT_SAVE_SETTINGS"],[b.Notification.CantSavePluginSettings,"NOTIFICATIONS/CANT_SAVE_PLUGIN_SETTINGS"],[b.Notification.DomainAlreadyExists,"NOTIFICATIONS/DOMAIN_ALREADY_EXISTS"],[b.Notification.CantInstallPackage,"NOTIFICATIONS/CANT_INSTALL_PACKAGE"],[b.Notification.CantDeletePackage,"NOTIFICATIONS/CANT_DELETE_PACKAGE"],[b.Notification.InvalidPluginPackage,
"NOTIFICATIONS/INVALID_PLUGIN_PACKAGE"],[b.Notification.UnsupportedPluginPackage,"NOTIFICATIONS/UNSUPPORTED_PLUGIN_PACKAGE"],[b.Notification.LicensingServerIsUnavailable,"NOTIFICATIONS/LICENSING_SERVER_IS_UNAVAILABLE"],[b.Notification.LicensingExpired,"NOTIFICATIONS/LICENSING_EXPIRED"],[b.Notification.LicensingBanned,"NOTIFICATIONS/LICENSING_BANNED"],[b.Notification.DemoSendMessageError,"NOTIFICATIONS/DEMO_SEND_MESSAGE_ERROR"],[b.Notification.DemoAccountError,"NOTIFICATIONS/DEMO_ACCOUNT_ERROR"],[b.Notification.AccountAlreadyExists,
"NOTIFICATIONS/ACCOUNT_ALREADY_EXISTS"],[b.Notification.AccountDoesNotExist,"NOTIFICATIONS/ACCOUNT_DOES_NOT_EXIST"],[b.Notification.MailServerError,"NOTIFICATIONS/MAIL_SERVER_ERROR"],[b.Notification.InvalidInputArgument,"NOTIFICATIONS/INVALID_INPUT_ARGUMENT"],[b.Notification.UnknownNotification,"NOTIFICATIONS/UNKNOWN_ERROR"],[b.Notification.UnknownError,"NOTIFICATIONS/UNKNOWN_ERROR"]];this.notificationI18N=this.notificationI18N||{};c.forEach(function(b){a.notificationI18N[b[0]]=a.i18n(b[1])})};a.prototype.initOnStartOrLangChange=
function(b,a){var c=2>=arguments.length||void 0===arguments[2]?null:arguments[2];b&&b.call(a);c?this.trigger.subscribe(function(){b&&b.call(a);c.call(a)}):b&&this.trigger.subscribe(b,a)};a.prototype.getNotification=function(a){var c=1>=arguments.length||void 0===arguments[1]?"":arguments[1],g=2>=arguments.length||void 0===arguments[2]?null:arguments[2];a=e.window.parseInt(a,10)||0;if(b.Notification.ClientViewError===a&&c)return c;g=g?e.window.parseInt(g,10)||0:0;return e._.isUndefined(this.notificationI18N[a])?
g&&e._.isUndefined(this.notificationI18N[g])?this.notificationI18N[g]:"":this.notificationI18N[a]};a.prototype.getNotificationFromResponse=function(a){var c=1>=arguments.length||void 0===arguments[1]?b.Notification.UnknownNotification:arguments[1];return a&&a.ErrorCode?this.getNotification(g.default.pInt(a.ErrorCode),a.ErrorMessage||""):this.getNotification(c)};a.prototype.getUploadErrorDescByCode=function(a){var c="";switch(e.window.parseInt(a,10)||0){case b.UploadErrorCode.FileIsTooBig:c=this.i18n("UPLOAD/ERROR_FILE_IS_TOO_BIG");
break;case b.UploadErrorCode.FilePartiallyUploaded:c=this.i18n("UPLOAD/ERROR_FILE_PARTIALLY_UPLOADED");break;case b.UploadErrorCode.FileNoUploaded:c=this.i18n("UPLOAD/ERROR_NO_FILE_UPLOADED");break;case b.UploadErrorCode.MissingTempFolder:c=this.i18n("UPLOAD/ERROR_MISSING_TEMP_FOLDER");break;case b.UploadErrorCode.FileOnSaveingError:c=this.i18n("UPLOAD/ERROR_ON_SAVING_FILE");break;case b.UploadErrorCode.FileType:c=this.i18n("UPLOAD/ERROR_FILE_TYPE");break;default:c=this.i18n("UPLOAD/ERROR_UNKNOWN")}return c};
a.prototype.reload=function(b,a,d,k){var f=this,h=g.default.microtime();l.default.$html.addClass("rl-changing-language");e.$.ajax({url:c(12).langLink(a,b),dataType:"script",cache:!0}).fail(k||g.default.emptyFunction).done(function(){e._.delay(function(){f.reloadData();(d||g.default.emptyFunction)();var b=-1<g.default.inArray(a,"ar ar_sa he he_he ur ur_ir".split(" "));l.default.$html.removeClass("rl-changing-language").removeClass("rl-rtl rl-ltr").addClass(b?"rl-rtl":"rl-ltr")},500<g.default.microtime()-
h?1:500)})};a.prototype.init=function(){l.default.$html.addClass("rl-"+(l.default.$html.attr("dir")||"ltr"))};return a}();h.exports=new f},,function(h,f,c){(function(){var a={},e=c(11),d=c(3),b=c(14),g=c(2),l=c(18),k=c(4);a.$win=b(e);a.$doc=b(e.document);a.$html=b("html");a.$body=b("body");a.$div=b("<div></div>");a.$win.__sizes=[0,0];a.startMicrotime=(new e.Date).getTime();a.community=!0;a.dropdownVisibility=g.observable(!1).extend({rateLimit:0});a.useKeyboardShortcuts=g.observable(!0);a.iAjaxErrorCount=
0;a.iTokenErrorCount=0;a.iMessageBodyCacheCount=0;a.bUnload=!1;a.sUserAgent="navigator"in e&&"userAgent"in e.navigator&&e.navigator.userAgent.toLowerCase()||"";a.bIE=-1<a.sUserAgent.indexOf("msie");a.bChrome=-1<a.sUserAgent.indexOf("chrome");a.bSafari=!a.bChrome&&-1<a.sUserAgent.indexOf("safari");a.bMobileDevice=/android/i.test(a.sUserAgent)||/iphone/i.test(a.sUserAgent)||/ipod/i.test(a.sUserAgent)||/ipad/i.test(a.sUserAgent)||/blackberry/i.test(a.sUserAgent);a.bDisableNanoScroll=a.bMobileDevice;
a.bAllowPdfPreview=!a.bMobileDevice;a.bAnimationSupported=!a.bMobileDevice&&a.$html.hasClass("csstransitions")&&a.$html.hasClass("cssanimations");a.bXMLHttpRequestSupported=!!e.XMLHttpRequest;a.__APP__=null;a.oHtmlEditorDefaultConfig={title:!1,stylesSet:!1,customConfig:"",contentsCss:"",toolbarGroups:[{name:"spec"},{name:"styles"},{name:"basicstyles",groups:["basicstyles","cleanup","bidi"]},{name:"colors"},a.bMobileDevice?{}:{name:"paragraph",groups:["list","indent","blocks","align"]},{name:"links"},
{name:"insert"},{name:"document",groups:["mode","document","doctools"]},{name:"others"}],removePlugins:"liststyle",removeButtons:"Format,Undo,Redo,Cut,Copy,Paste,Anchor,Strike,Subscript,Superscript,Image,SelectAll,Source",removeDialogTabs:"link:advanced;link:target;image:advanced;images:advanced",extraPlugins:"plain,signature",allowedContent:!0,extraAllowedContent:!0,fillEmptyBlocks:!1,ignoreEmptyParagraph:!0,disableNativeSpellChecker:!1,font_defaultLabel:"Arial",fontSize_defaultLabel:"13",fontSize_sizes:"10/10px;12/12px;13/13px;14/14px;16/16px;18/18px;20/20px;24/24px;28/28px;36/36px;48/48px"};
a.oHtmlEditorLangsMap={bg_bg:"bg",de_de:"de",el_gr:"el",es_es:"es",fr_fr:"fr",hu_hu:"hu",is_is:"is",it_it:"it",ja_jp:"ja",ko_kr:"ko",lt_lt:"lt",lv_lv:"lv",nl_nl:"nl",bg_no:"no",pl_pl:"pl",pt_pt:"pt",pt_br:"pt-br",ro_ro:"ro",ru_ru:"ru",sk_sk:"sk",sl_si:"sl",sv_se:"sv",tr_tr:"tr",uk_ua:"ru",zh_tw:"zh",zh_cn:"zh-cn"};a.bAllowPdfPreview&&e.navigator&&e.navigator.mimeTypes&&(a.bAllowPdfPreview=!!d.find(e.navigator.mimeTypes,function(b){return b&&"application/pdf"===b.type}),a.bAllowPdfPreview||(a.bAllowPdfPreview=
"undefined"!==typeof e.navigator.mimeTypes["application/pdf"]));a.aBootstrapDropdowns=[];a.aViewModels={settings:[],"settings-removed":[],"settings-disabled":[]};a.leftPanelDisabled=g.observable(!1);a.leftPanelType=g.observable("");a.leftPanelWidth=g.observable(0);a.popupVisibilityNames=g.observableArray([]);a.popupVisibility=g.computed(function(){return 0<a.popupVisibilityNames().length},this);a.popupVisibility.subscribe(function(b){a.$html.toggleClass("rl-modal",b)});a.keyScopeReal=g.observable(k.KeyState.All);
a.keyScopeFake=g.observable(k.KeyState.All);a.keyScope=g.computed({owner:this,read:function(){return a.keyScopeFake()},write:function(b){k.KeyState.Menu!==b&&(l.filter=k.KeyState.Compose===b?function(){return a.useKeyboardShortcuts()}:function(b){if(a.useKeyboardShortcuts()){var c=(b=b.target||b.srcElement)?b.tagName:"",c=c.toUpperCase();return!("INPUT"===c||"SELECT"===c||"TEXTAREA"===c||b&&"DIV"===c&&("editorHtmlArea"===b.className||"true"===""+b.contentEditable))}return!1},a.keyScopeFake(b),a.dropdownVisibility()&&
(b=k.KeyState.Menu));a.keyScopeReal(b)}});a.keyScopeReal.subscribe(function(b){l.setScope(b)});a.dropdownVisibility.subscribe(function(b){b?a.keyScope(k.KeyState.Menu):k.KeyState.Menu===l.getScope()&&a.keyScope(a.keyScopeFake())});h.exports=a})()},function(h,f,c){var a=c(13),e=(f=c(1))&&f.__esModule?f:{default:f};f=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.settings={};this.appSettings={};this.settings=a.window.rainloopAppData||{};
this.settings=e.default.isNormal(this.settings)?this.settings:{};this.appSettings=this.settings.System||null;this.appSettings=e.default.isNormal(this.appSettings)?this.appSettings:{}}c.prototype.settingsGet=function(b){return e.default.isUnd(this.settings[b])?null:this.settings[b]};c.prototype.settingsSet=function(b,a){this.settings[b]=a};c.prototype.appSettingsGet=function(b){return e.default.isUnd(this.appSettings[b])?null:this.appSettings[b]};c.prototype.capa=function(b){var a=this.settingsGet("Capa");
return e.default.isArray(a)&&e.default.isNormal(b)&&-1<e.default.inArray(b,a)};return c}();h.exports=new f},function(h,f,c){(function(){function a(a,c){this.bDisabeCloseOnEsc=!1;this.sPosition=b.pString(a);this.sTemplate=b.pString(c);this.sCurrentKeyScope=this.sDefaultKeyScope=d.KeyState.None;this.viewModelVisibility=e.observable(!1);this.modalVisibility=e.observable(!1).extend({rateLimit:0});this.viewModelName="";this.viewModelNames=[];this.viewModelDom=null}var e=c(2),d=c(4),b=c(1),g=c(8);a.prototype.bDisabeCloseOnEsc=
!1;a.prototype.sPosition="";a.prototype.sTemplate="";a.prototype.sDefaultKeyScope=d.KeyState.None;a.prototype.sCurrentKeyScope=d.KeyState.None;a.prototype.viewModelName="";a.prototype.viewModelNames=[];a.prototype.viewModelDom=null;a.prototype.viewModelTemplate=function(){return this.sTemplate};a.prototype.viewModelPosition=function(){return this.sPosition};a.prototype.cancelCommand=function(){};a.prototype.closeCommand=function(){};a.prototype.storeAndSetKeyScope=function(){this.sCurrentKeyScope=
g.keyScope();g.keyScope(this.sDefaultKeyScope)};a.prototype.restoreKeyScope=function(){g.keyScope(this.sCurrentKeyScope)};a.prototype.registerPopupKeyDown=function(){var a=this;g.$win.on("keydown",function(c){if(c&&a.modalVisibility&&a.modalVisibility()){if(!this.bDisabeCloseOnEsc&&d.EventKeyCode.Esc===c.keyCode)return b.delegateRun(a,"cancelCommand"),!1;if(d.EventKeyCode.Backspace===c.keyCode&&!b.inFocus())return!1}return!0})};h.exports=a})()},function(h,f){h.exports=window},function(h,f,c){var a=
c(13),e=(f=c(1))&&f.__esModule?f:{default:f},d=(c=c(9))&&c.__esModule?c:{default:c};c=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.sBase="#/";this.sServer="./?";this.sVersion=d.default.appSettingsGet("version");this.sWebPrefix=d.default.appSettingsGet("webPath")||"";this.sVersionPrefix=d.default.appSettingsGet("webVersionPath")||"rainloop/v/"+this.sVersion+"/";this.sAdminPath=d.default.appSettingsGet("adminPath")||"admin";this.sAuthSuffix=
d.default.settingsGet("AuthAccountHash")||"0";this.sStaticPrefix=this.sVersionPrefix+"static/"}b.prototype.populateAuthSuffix=function(){this.sAuthSuffix=d.default.settingsGet("AuthAccountHash")||"0"};b.prototype.subQueryPrefix=function(){return"&q[]="};b.prototype.root=function(){return this.sBase+e.default.pString(0>=arguments.length||void 0===arguments[0]?"":arguments[0])};b.prototype.rootAdmin=function(){return this.sServer+this.sAdminPath};b.prototype.rootUser=function(){return(0>=arguments.length||
void 0===arguments[0]?0:arguments[0])?"./?/Mobile/":"./"};b.prototype.attachmentRaw=function(b,a,c){c=e.default.isUnd(c)?this.sAuthSuffix:c;return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+c+"/"+b+"/"+this.subQueryPrefix()+"/"+a};b.prototype.attachmentDownload=function(b,a){return this.attachmentRaw("Download",b,a)};b.prototype.attachmentPreview=function(b,a){return this.attachmentRaw("View",b,a)};b.prototype.attachmentThumbnailPreview=function(b,a){return this.attachmentRaw("ViewThumbnail",
b,a)};b.prototype.attachmentPreviewAsPlain=function(b,a){return this.attachmentRaw("ViewAsPlain",b,a)};b.prototype.attachmentFramed=function(b,a){return this.attachmentRaw("FramedView",b,a)};b.prototype.upload=function(){return this.sServer+"/Upload/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"};b.prototype.uploadContacts=function(){return this.sServer+"/UploadContacts/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"};b.prototype.uploadBackground=function(){return this.sServer+"/UploadBackground/"+
this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"};b.prototype.append=function(){return this.sServer+"/Append/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"};b.prototype.change=function(b){return this.sServer+"/Change/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"+e.default.encodeURIComponent(b)+"/"};b.prototype.ajax=function(b){return this.sServer+"/Ajax/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"+b};b.prototype.messageViewLink=function(b){return this.sServer+"/Raw/"+this.subQueryPrefix()+
"/"+this.sAuthSuffix+"/ViewAsPlain/"+this.subQueryPrefix()+"/"+b};b.prototype.messageDownloadLink=function(b){return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/Download/"+this.subQueryPrefix()+"/"+b};b.prototype.avatarLink=function(b){return this.sServer+"/Raw/0/Avatar/"+e.default.encodeURIComponent(b)+"/"};b.prototype.publicLink=function(b){return this.sServer+"/Raw/0/Public/"+b+"/"};b.prototype.userBackground=function(b){return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+
this.sAuthSuffix+"/UserBackground/"+this.subQueryPrefix()+"/"+b};b.prototype.inbox=function(){return this.sBase+"mailbox/"+(0>=arguments.length||void 0===arguments[0]?"INBOX":arguments[0])};b.prototype.settings=function(){var b=0>=arguments.length||void 0===arguments[0]?"":arguments[0];return this.sBase+"settings"+(b?"/"+b:"")};b.prototype.about=function(){return this.sBase+"about"};b.prototype.admin=function(b){var a=this.sBase;switch(b){case "AdminDomains":a+="domains";break;case "AdminSecurity":a+=
"security";break;case "AdminLicensing":a+="licensing"}return a};b.prototype.mailBox=function(b){var c=1>=arguments.length||void 0===arguments[1]?1:arguments[1],d=2>=arguments.length||void 0===arguments[2]?"":arguments[2],f=3>=arguments.length||void 0===arguments[3]?"":arguments[3],c=e.default.isNormal(c)?e.default.pInt(c):1,d=e.default.pString(d),n=this.sBase+"mailbox/";""!==b&&(f=e.default.pInt(f),n+=a.window.encodeURI(b)+(0<f?"~"+f:""));1<c&&(n=n.replace(/[\/]+$/,""),n+="/p"+c);""!==d&&(n=n.replace(/[\/]+$/,
""),n+="/"+a.window.encodeURI(d));return n};b.prototype.phpInfo=function(){return this.sServer+"Info"};b.prototype.langLink=function(b,c){return this.sServer+"/Lang/0/"+(c?"Admin":"App")+"/"+a.window.encodeURI(b)+"/"+this.sVersion+"/"};b.prototype.exportContactsVcf=function(){return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/ContactsVcf/"};b.prototype.exportContactsCsv=function(){return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/ContactsCsv/"};b.prototype.emptyContactPic=
function(){return this.sStaticPrefix+"css/images/empty-contact.png"};b.prototype.sound=function(b){return this.sStaticPrefix+"sounds/"+b};b.prototype.themePreviewLink=function(b){var c=this.sVersionPrefix;"@custom"===b.substr(-7)&&(b=e.default.trim(b.substring(0,b.length-7)),c=this.sWebPrefix);return c+"themes/"+a.window.encodeURI(b)+"/images/preview.png"};b.prototype.notificationMailIcon=function(){return this.sStaticPrefix+"css/images/icom-message-notification.png"};b.prototype.openPgpJs=function(){return this.sStaticPrefix+
"js/min/openpgp.min.js"};b.prototype.openPgpWorkerJs=function(){return this.sStaticPrefix+"js/min/openpgp.worker.min.js"};b.prototype.openPgpWorkerPath=function(){return this.sStaticPrefix+"js/min/"};b.prototype.socialGoogle=function(){var b=0>=arguments.length||void 0===arguments[0]?!1:arguments[0];return this.sServer+"SocialGoogle"+(""!==this.sAuthSuffix?"/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/":"")+(b?"&xauth=1":"")};b.prototype.socialTwitter=function(){return this.sServer+"SocialTwitter"+
(""!==this.sAuthSuffix?"/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/":"")};b.prototype.socialFacebook=function(){return this.sServer+"SocialFacebook"+(""!==this.sAuthSuffix?"/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/":"")};return b}();h.exports=new c},function(h,f,c){function a(b){return b&&b.__esModule?b:{default:b}}f.__esModule=!0;f.key=f.moment=f.Q=f._=f.JSON=f.$=f.window=void 0;h=c(11);h=a(h);var e=c(14),e=a(e),d=c(36),d=a(d),b=c(3),b=a(b),g=c(48),g=a(g),l=c(82),l=a(l);c=c(18);c=a(c);
f.window=h.default;f.$=e.default;f.JSON=d.default;f._=b.default;f.Q=g.default;f.moment=l.default;f.key=c.default},function(h,f){h.exports=window.jQuery},,function(h,f,c){f.__esModule=!0;f.componentExportHelper=f.AbstractComponent=void 0;var a=c(13),e=(h=c(2))&&h.__esModule?h:{default:h},d=(h=c(1))&&h.__esModule?h:{default:h};h=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.disposable=[]}b.prototype.dispose=function(){this.disposable.forEach(function(b){b&&
b.dispose&&b.dispose()})};return b}();f.AbstractComponent=h;f.componentExportHelper=function(b){var g=1>=arguments.length||void 0===arguments[1]?"":arguments[1];return{template:g?{element:g}:"<b></b>",viewModel:{createViewModel:function(g,k){g=g||{};g.element=null;k&&k.element&&(g.component=k,g.element=(0,a.$)(k.element),c(6).i18nToNodes(g.element),!d.default.isUnd(g.inline)&&e.default.unwrap(g.inline)&&g.element.css("display","inline-block"));return new b(g)}}}}},function(h,f){f.__esModule=!0;f.MESSAGES_PER_PAGE=
20;f.MESSAGES_PER_PAGE_VALUES=[10,20,30,50,100];f.CONTACTS_PER_PAGE=50;f.DEFAULT_AJAX_TIMEOUT=3E4;f.SEARCH_AJAX_TIMEOUT=3E5;f.SEND_MESSAGE_AJAX_TIMEOUT=3E5;f.SAVE_MESSAGE_AJAX_TIMEOUT=2E5;f.CONTACTS_SYNC_AJAX_TIMEOUT=2E5;f.UNUSED_OPTION_VALUE="__UNUSE__";f.CLIENT_SIDE_STORAGE_INDEX_NAME="rlcsc";f.IMAP_DEFAULT_PORT=143;f.IMAP_DEFAULT_SECURE_PORT=993;f.SMTP_DEFAULT_PORT=25;f.SMTP_DEFAULT_SECURE_PORT=465;f.SIEVE_DEFAULT_PORT=4190;f.MESSAGE_BODY_CACHE_LIMIT=15;f.AJAX_ERROR_LIMIT=7;f.TOKEN_ERROR_LIMIT=
10;f.RAINLOOP_TRIAL_KEY="RAINLOOP-TRIAL-KEY";f.DATA_IMAGE_USER_DOT_PIC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAHHklEQVRoQ7VZW08bVxCeXRuwIbTGXIwNtBBaqjwgVUiR8lDlbza9qe1DpVZ9aNQ/0KpPeaJK07SpcuEeCEmUAObm21bfrL9lONjexSYrWfbunj37zXdmvpkz9oIgCKTD0Wg0xPd94TDP83Q0zvWa50vzklSrdanVanqf4/D84GBGr+F+Op3S8fqoJxLOdnZgTvsO/nYhenHA+UC7CWF1uXwkb9++ldPTUwVerVbVqFQqpR8YPjQ0JCMjI5LNDijoRgP3PQVu5+5Eor2XGLg7IV4GkIdHJ/LmzRs5ODiIwNbrdR0O0GCcq4Xz4eFhmZyclP7+tDQaIik/BG5XKQn4SwG3zJTLZXn9+rUclI8UHD5YVoDDN8bSzXhONwL48fFxGR4eilzFZT1uFRIB5yT8BqCdnR3Z3d0VP9Un6XRawYJpggVrZBv38ME4XKtUKnLt2jUplUoy1PR/l3U7T6sVSAQcgMAkj8PDQ9ne3pajoyMRL7zeKsYZWHgWYDGmv78/mmdwcFA+mJlSgziHDWrERrsjEXDXegTi1tZW+DLxI2bxIrqFNYTXyDyCFweMAHCwb8e4RnTNuOsqe3t7sra21pTD0Kct666E8XlcZyzw9/RUUXK5nK5oUinUQI6TQ3cynO/v78vq6qrKXCNwlTiJJpyNGc3nZHp6uqV2dwrQWOCtZBDAV1ZWwsQk7f0wiQn5kffbAu/0/KWBYzIC1+XukfGx0RGZmppKlC2tIV0Bh4aDcZW7HhkfH8urLLZL7T2pihvlkMNnz56FiadHxicL41IsFpN41bkxsYxbRdFo9jwB8KdPn14J8KnSpBQKhQs63nPmbCVRcBUAR2Lq1VVmpksyMTFxAXjcEsQybiegESionjx5osCZOeNe1O4+EhCAX7bQSgQcxRHTMgAgcz5+/Dis/hL4uHU3/B4YGNASGHIKxuEql0k+l05AeIAF1vPnz5VxFFmdDlaJrMtZITJeSsXCOTlMunKxjLtMYOKNjQ158eJFuAuKkUOb5sEwgff19SkJUBVkThZUbnXZrtCKBQ6gbnWIkjZpyne3ejAWoGnA7Icz6irvBLgbOMicCM6TkxPx/LAkbXfgWcsazuE2kFRsKD5Z+CiqDumKncpZvieWcS6dDVD8xiYCNflpJdwcdwJOf9airLmVQ7DPzMxIYWLsXGXoVqLt5k0M3K3JUVPDZdbWNzsCp48TPFdvdnZWUz32nDha7bJ63kgAJPzSdRks9/Kf9xMJAQ1gq2NpaUmy2Yz4zar4nQC3xb99AQwCcGzLAAwuhG8YiWvcOKts+r4GOe5nMhm5efOm9lUA3E3vSZJRrKvE0fnPv//Jy5cvo5cTHIPQbSjhOoqq69evS19f6lxDKK4+sVhigZPtKJqbrQeqxd5+WR4+fKgqgT0k2XX3nhiPgETWXFhYkFzuPZ2yVq1GTSOXpE47/VjgNnD4m4GG7/LhsTx69EiwD4Vr2MwIIxgbAH18fKx1yfz8vEogNvGtWnCuhLZa9UTAreVWFsHy/b/+Vrbdl7E5REMQD2jDoUbByty+/ZnU64GkU2HzyJLhktU1cLv8nARgkYS2d3ajAgwG8qU2oLmDZ92CMaOjo7K4uCiZgbDWaRWgnZhPxLhrMUCvr69riwKZk1LHF7XqrWAO9hJxH6ozNzcnCx/PqztZg9mf6SQMscCtm2C5ke4BGMlHWTUp36036AJajDVrFMzBrhhWslQsSrFYiOqVpMriNYIgqFRq2j3FAb/zffT6zuxFXxsNzs3NTXn16lW4gYiW96w1FyedF+83xG/2FNGCRpU4NjamMsn+OZ9xE5RXqdaDdPpib6RWCzuwKF9RxqI2AVNQBwQYJoK0wdBejnqtEikP3pfP51XjUTESl12FqJEKxsEorARYDD44ONTeID7YpsEnrRvQfWAI2e8WfDaTUSIwJ0iBCmFOtOUAHvVMPp/TPwvYFVYFIuP8l+DBgwdaa2Miqwa0GgYwfeMltovbDfh6c1vIgMYcliSsKv4IWFr6VDHxvldvBAH+1sA+cnl5WYOPmmr9ir+1l9I0Cgz0yjhXjfJJ0JROnmezWbl165ayr/5fqwcBNr7IfhjMqKcvESSM4eRcCasQ3bDNObmKPLdGUGpZsN24cUNLBm9zazu4d++e6qpNBFaTuUS26U5dpuR1CxyA7J9ddrMRqlz4pwLLYawymPd++/2PADt2ugcGwq9gCCdhQ96C6xWwa6j1ceuq+I0EhW0i8MAIVJfeL3d/DVD8EKi12P6/2S2jV/EccVB54O/ejz/9HGCpoBBMta5rXMXLu53D1XAwjhXwvvv+h4BAXVe4bOu3O3ChxF08LiZFG3fel199G9CH3fLyqv24NcB44MRhpdK788U3CpyKwsCw590xmfSpzsBt0Fqc3ud3vtZigxWcVZCklVpSiN0w3q5E/h9TGMIUuA3+EQAAAABJRU5ErkJggg==";
f.DATA_IMAGE_TRANSP_PIC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII="},function(h,f){h.exports=window.key},,function(h,f,c){(function(){function a(){d.call(this);this.oRequests={}}var e=c(3),d=c(55);e.extend(a.prototype,d.prototype);a.prototype.adminLogin=function(b,a,c){this.defaultRequest(b,"AdminLogin",{Login:a,Password:c})};a.prototype.adminLogout=function(b){this.defaultRequest(b,"AdminLogout")};a.prototype.saveAdminConfig=
function(b,a){this.defaultRequest(b,"AdminSettingsUpdate",a)};a.prototype.domainList=function(b){this.defaultRequest(b,"AdminDomainList")};a.prototype.pluginList=function(b){this.defaultRequest(b,"AdminPluginList")};a.prototype.packagesList=function(b){this.defaultRequest(b,"AdminPackagesList")};a.prototype.coreData=function(b){this.defaultRequest(b,"AdminCoreData")};a.prototype.updateCoreData=function(b){this.defaultRequest(b,"AdminUpdateCoreData",{},9E4)};a.prototype.packageInstall=function(b,a){this.defaultRequest(b,
"AdminPackageInstall",{Id:a.id,Type:a.type,File:a.file},6E4)};a.prototype.packageDelete=function(b,a){this.defaultRequest(b,"AdminPackageDelete",{Id:a.id})};a.prototype.domain=function(b,a){this.defaultRequest(b,"AdminDomainLoad",{Name:a})};a.prototype.plugin=function(b,a){this.defaultRequest(b,"AdminPluginLoad",{Name:a})};a.prototype.domainDelete=function(b,a){this.defaultRequest(b,"AdminDomainDelete",{Name:a})};a.prototype.domainDisable=function(b,a,c){return this.defaultRequest(b,"AdminDomainDisable",
{Name:a,Disabled:c?"1":"0"})};a.prototype.pluginSettingsUpdate=function(b,a){return this.defaultRequest(b,"AdminPluginSettingsUpdate",a)};a.prototype.licensing=function(b,a){return this.defaultRequest(b,"AdminLicensing",{Force:a?"1":"0"})};a.prototype.licensingActivate=function(b,a,c){return this.defaultRequest(b,"AdminLicensingActivate",{Domain:a,Key:c})};a.prototype.pluginDisable=function(b,a,c){return this.defaultRequest(b,"AdminPluginDisable",{Name:a,Disabled:c?"1":"0"})};a.prototype.createOrUpdateDomain=
function(b,a,c,d,e,f,h,r,q,t,w,v,u,z,B,E,C,x,F){this.defaultRequest(b,"AdminDomainSave",{Create:a?"1":"0",Name:c,IncHost:d,IncPort:e,IncSecure:f,IncShortLogin:h?"1":"0",UseSieve:r?"1":"0",SieveAllowRaw:q?"1":"0",SieveHost:t,SievePort:w,SieveSecure:v,OutHost:u,OutPort:z,OutSecure:B,OutShortLogin:E?"1":"0",OutAuth:C?"1":"0",OutUsePhpMail:x?"1":"0",WhiteList:F})};a.prototype.testConnectionForDomain=function(b,a,c,d,e,f,h,r,q,t,w,v,u,z){this.defaultRequest(b,"AdminDomainTest",{Name:a,IncHost:c,IncPort:d,
IncSecure:e,UseSieve:f?"1":"0",SieveHost:h,SievePort:r,SieveSecure:q,OutHost:t,OutPort:w,OutSecure:v,OutAuth:u?"1":"0",OutUsePhpMail:z?"1":"0"})};a.prototype.testContacts=function(b,a){this.defaultRequest(b,"AdminContactsTest",a)};a.prototype.saveNewAdminPassword=function(b,a){this.defaultRequest(b,"AdminPasswordUpdate",a)};a.prototype.adminPing=function(b){this.defaultRequest(b,"AdminPing")};h.exports=new a})()},,function(h,f,c){function a(b){return b&&b.__esModule?b:{default:b}}function e(b,a){if("function"!==
typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}f.__esModule=!0;var d=c(13);h=c(2);var b=a(h);h=c(83);var g=a(h),l=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a.default=b;return a}(c(4));
h=c(1);var k=a(h);h=c(12);var m=a(h);h=c(6);var n=a(h);h=c(9);var p=a(h);h=c(35);var r=a(h);h=c(57);var q=a(h);h=c(59);var t=a(h);h=c(139);var w=a(h);h=c(58);var v=a(h);h=c(89);var u=a(h);h=c(20);var z=a(h);h=c(5);var B=a(h);h=new (function(a){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var b=a.call(this,z.default);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==
typeof b?this:b}e(f,a);f.prototype.remote=function(){return z.default};f.prototype.reloadDomainList=function(){q.default.domains.loading(!0);z.default.domainList(function(a,c){q.default.domains.loading(!1);l.StorageResultType.Success===a&&c&&c.Result&&q.default.domains(d._.map(c.Result,function(a,c){return{name:c,disabled:b.default.observable(!a),deleteAccess:b.default.observable(!1)}}))})};f.prototype.reloadPluginList=function(){t.default.plugins.loading(!0);z.default.pluginList(function(a,c){t.default.plugins.loading(!1);
l.StorageResultType.Success===a&&c&&c.Result&&t.default.plugins(d._.map(c.Result,function(a){return{name:a.Name,disabled:b.default.observable(!a.Enabled),configured:b.default.observable(!!a.Configured)}}))})};f.prototype.reloadPackagesList=function(){v.default.packages.loading(!0);v.default.packagesReal(!0);z.default.packagesList(function(a,c){v.default.packages.loading(!1);l.StorageResultType.Success===a&&c&&c.Result?function(){v.default.packagesReal(!!c.Result.Real);v.default.packagesMainUpdatable(!!c.Result.MainUpdatable);
var a=[],g={};d._.each(v.default.packages(),function(b){b&&b.loading()&&(g[b.file]=b)});k.default.isArray(c.Result.List)&&(a=d._.compact(d._.map(c.Result.List,function(a){return a?(a.loading=b.default.observable(!k.default.isUnd(g[a.file])),"core"!==a.type||a.canBeInstalled?a:null):null})));v.default.packages(a)}():v.default.packagesReal(!1)})};f.prototype.updateCoreData=function(){u.default.coreUpdating(!0);z.default.updateCoreData(function(b,a){u.default.coreUpdating(!1);u.default.coreVersion("");
u.default.coreRemoteVersion("");u.default.coreRemoteRelease("");u.default.coreVersionCompare(-2);l.StorageResultType.Success===b&&a&&a.Result?(u.default.coreReal(!0),d.window.location.reload()):u.default.coreReal(!1)})};f.prototype.reloadCoreData=function(){u.default.coreChecking(!0);u.default.coreReal(!0);z.default.coreData(function(b,a){u.default.coreChecking(!1);l.StorageResultType.Success===b&&a&&a.Result?(u.default.coreReal(!!a.Result.Real),u.default.coreChannel(a.Result.Channel||"stable"),u.default.coreType(a.Result.Type||
"stable"),u.default.coreUpdatable(!!a.Result.Updatable),u.default.coreAccess(!!a.Result.Access),u.default.coreWarning(!!a.Result.Warning),u.default.coreVersion(a.Result.Version||""),u.default.coreRemoteVersion(a.Result.RemoteVersion||""),u.default.coreRemoteRelease(a.Result.RemoteRelease||""),u.default.coreVersionCompare(k.default.pInt(a.Result.VersionCompare))):(u.default.coreReal(!1),u.default.coreChannel("stable"),u.default.coreType("stable"),u.default.coreWarning(!1),u.default.coreVersion(""),
u.default.coreRemoteVersion(""),u.default.coreRemoteRelease(""),u.default.coreVersionCompare(-2))})};f.prototype.reloadLicensing=function(){var b=0>=arguments.length||void 0===arguments[0]?!1:arguments[0];w.default.licensingProcess(!0);w.default.licenseError("");z.default.licensing(function(b,a){w.default.licensingProcess(!1);l.StorageResultType.Success===b&&a&&a.Result&&k.default.isNormal(a.Result.Expired)?(w.default.licenseValid(!0),w.default.licenseExpired(k.default.pInt(a.Result.Expired)),w.default.licenseError(""),
w.default.licensing(!0),r.default.prem(!0)):a&&a.ErrorCode&&-1<k.default.inArray(k.default.pInt(a.ErrorCode),[l.Notification.LicensingServerIsUnavailable,l.Notification.LicensingExpired])?(w.default.licenseError(n.default.getNotification(k.default.pInt(a.ErrorCode))),w.default.licensing(!0)):l.StorageResultType.Abort===b?(w.default.licenseError(n.default.getNotification(l.Notification.LicensingServerIsUnavailable)),w.default.licensing(!0)):w.default.licensing(!1)},b)};f.prototype.bootend=function(){var b=
0>=arguments.length||void 0===arguments[0]?null:arguments[0];g.default&&g.default.end();b&&b()};f.prototype.bootstart=function(){a.prototype.bootstart.call(this);c(35).populate();c(50).populate();B.default.hideLoading();p.default.appSettingsGet("allowAdminPanel")?p.default.settingsGet("Auth")?B.default.startScreens([c(114)]):B.default.startScreens([c(113)]):(B.default.routeOff(),B.default.setHash(m.default.root(),!0),B.default.routeOff(),d._.defer(function(){d.window.location.href="/"}));this.bootend()};
return f}(c(64).AbstractApp));f.default=h},function(h,f,c){function a(b){return b&&b.__esModule?b:{default:b}}var e=c(13);f=c(1);var d=a(f);f=c(8);var b=a(f);f=c(9);var g=a(f);f=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.oSimpleHooks={};this.aUserViewModelsHooks=[];this.aAdminViewModelsHooks=[]}a.prototype.addHook=function(b,a){d.default.isFunc(a)&&(d.default.isArray(this.oSimpleHooks[b])||(this.oSimpleHooks[b]=[]),this.oSimpleHooks[b].push(a))};
a.prototype.runHook=function(b){var a=1>=arguments.length||void 0===arguments[1]?[]:arguments[1];d.default.isArray(this.oSimpleHooks[b])&&e._.each(this.oSimpleHooks[b],function(b){b.apply(null,a)})};a.prototype.mainSettingsGet=function(b){return g.default.settingsGet(b)};a.prototype.remoteRequest=function(a,c,d,g){b.default.__APP__&&b.default.__APP__.remote().defaultRequest(a,"Plugin"+c,d,g)};a.prototype.addSettingsViewModel=function(b,a,c,d){this.aUserViewModelsHooks.push([b,a,c,d])};a.prototype.addSettingsViewModelForAdmin=
function(b,a,c,d){this.aAdminViewModelsHooks.push([b,a,c,d])};a.prototype.runSettingsViewModelHooks=function(b){var a=c(5);e._.each(b?this.aAdminViewModelsHooks:this.aUserViewModelsHooks,function(b){a.addSettingsViewModel(b[0],b[1],b[2],b[3])})};a.prototype.settingsGet=function(b,a){var c=g.default.settingsGet("Plugins");return(c=c&&!d.default.isUnd(c[b])?c[b]:null)?d.default.isUnd(c[a])?null:c[a]:null};return a}();h.exports=new f},,function(h,f,c){var a=c(13),e=(f=c(1))&&f.__esModule?f:{default:f},
d=(c=c(23))&&c.__esModule?c:{default:c};c=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.subs={}}b.prototype.sub=function(b,c,d){var f=this;e.default.isObject(b)?(d=c||null,c=null,a._.each(b,function(b,a){f.sub(a,b,d)},this)):(e.default.isUnd(this.subs[b])&&(this.subs[b]=[]),this.subs[b].push([c,d]));return this};b.prototype.pub=function(b,c){d.default.runHook("rl-pub",[b,c]);e.default.isUnd(this.subs[b])||a._.each(this.subs[b],function(b){b[0]&&
b[0].apply(b[1]||null,c||[])});return this};return b}();h.exports=new c},function(h,f,c){var a=c(13),e=(f=c(6))&&f.__esModule?f:{default:f};f=function(){function c(){var b=this;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._moment=null;this._momentNow=0;this.updateMomentNow=a._.debounce(function(){b._moment=(0,a.moment)()},500,!0);this.updateMomentNowUnix=a._.debounce(function(){b._momentNow=(0,a.moment)().unix()},500,!0);this.format=a._.bind(this.format,this)}
c.prototype.momentNow=function(){this.updateMomentNow();return this._moment||(0,a.moment)()};c.prototype.momentNowUnix=function(){this.updateMomentNowUnix();return this._momentNow||0};c.prototype.searchSubtractFormatDateHelper=function(b){return this.momentNow().clone().subtract("days",b).format("YYYY.MM.DD")};c.prototype.formatCustomShortDate=function(b){var a=this.momentNow();if(b&&a)switch(!0){case 4>=a.diff(b,"hours"):return b.fromNow();case a.format("L")===b.format("L"):return e.default.i18n("MESSAGE_LIST/TODAY_AT",
{TIME:b.format("LT")});case a.clone().subtract("days",1).format("L")===b.format("L"):return e.default.i18n("MESSAGE_LIST/YESTERDAY_AT",{TIME:b.format("LT")});case a.year()===b.year():return b.format("D MMM.")}return b?b.format("LL"):""};c.prototype.format=function(b,c){var d=null,e="",d=this.momentNowUnix();b=0<b?b:0===b?d:0;b=d<b?d:b;(d=0<b?a.moment.unix(b):null)&&1970===d.year()&&(d=null);if(d)switch(c){case "FROMNOW":e=d.fromNow();break;case "SHORT":e=this.formatCustomShortDate(d);break;case "FULL":e=
d.format("LLL");break;default:e=d.format(c)}return e};c.prototype.momentToNode=function(b){var c="",d=0;b=(0,a.$)(b);if(d=b.data("moment-time"))(c=b.data("moment-format"))&&b.text(this.format(d,c)),(c=b.data("moment-format-title"))&&b.attr("title",this.format(d,c))};c.prototype.momentToNodes=function(b){var c=this;a._.defer(function(){(0,a.$)(".moment",b).each(function(b,a){c.momentToNode(a)})})};c.prototype.reload=function(){this.momentToNodes(a.window.document)};return c}();h.exports=new f},,,,
function(h,f,c){(function(){function a(a,b,c,e){this.email=a||"";this.name=b||"";this.dkimStatus=c||"none";this.dkimValue=e||"";this.clearDuplicateName()}var e=c(1);a.newInstanceFromJson=function(c){var b=new a;return b.initByJson(c)?b:null};a.splitHelper=function(a,b){b=b||";";a=a.replace(/[\r\n]+/g,"; ").replace(/[\s]+/g," ");for(var c=0,e=a.length,k=!1,f="",h="";c<e;c++){f=a.charAt(c);switch(f){case "@":k=!0;break;case " ":k&&(k=!1,h+=b)}h+=f}return h.split(b)};a.prototype.name="";a.prototype.email=
"";a.prototype.dkimStatus="none";a.prototype.dkimValue="";a.prototype.clear=function(){this.name=this.email="";this.dkimStatus="none";this.dkimValue=""};a.prototype.validate=function(){return""!==this.name||""!==this.email};a.prototype.hash=function(a){return"#"+(a?"":this.name)+"#"+this.email+"#"};a.prototype.clearDuplicateName=function(){this.name===this.email&&(this.name="")};a.prototype.search=function(a){return-1<(this.name+" "+this.email).toLowerCase().indexOf(a.toLowerCase())};a.prototype.parse=
function(a){this.clear();a=e.trim(a);var b=/(?:"([^"]+)")? ?[<]?(.*?@[^>,]+)>?,? ?/g.exec(a);b?(this.name=b[1]||"",this.email=b[2]||"",this.clearDuplicateName()):/^[^@]+@[^@]+$/.test(a)&&(this.name="",this.email=a)};a.prototype.initByJson=function(a){var b=!1;a&&"Object/Email"===a["@Object"]&&(this.name=e.trim(a.Name),this.email=e.trim(a.Email),this.dkimStatus=e.trim(a.DkimStatus||""),this.dkimValue=e.trim(a.DkimValue||""),b=""!==this.email,this.clearDuplicateName());return b};a.prototype.toLine=
function(a,b,c){var l="";""!==this.email&&(b=e.isUnd(b)?!1:!!b,c=e.isUnd(c)?!1:!!c,a&&""!==this.name?l=b?'<a href="mailto:'+e.encodeHtml('"'+this.name+'" <'+this.email+">")+'" target="_blank" tabindex="-1">'+e.encodeHtml(this.name)+"</a>":c?e.encodeHtml(this.name):this.name:(l=this.email,""!==this.name?b?l=e.encodeHtml('"'+this.name+'" <')+'<a href="mailto:'+e.encodeHtml('"'+this.name+'" <'+this.email+">")+'" target="_blank" tabindex="-1">'+e.encodeHtml(l)+"</a>"+e.encodeHtml(">"):(l='"'+this.name+
'" <'+l+">",c&&(l=e.encodeHtml(l))):b&&(l='<a href="mailto:'+e.encodeHtml(this.email)+'" target="_blank" tabindex="-1">'+e.encodeHtml(this.email)+"</a>")));return l};a.prototype.mailsoParse=function(a){a=e.trim(a);if(""===a)return!1;for(var b=function(b,a,c){b+="";var d=b.length;0>a&&(a+=d);d="undefined"===typeof c?d:0>c?c+d:c+a;return a>=b.length||0>a||a>d?!1:b.slice(a,d)},c=function(b,a,c,d){0>c&&(c+=b.length);d=void 0!==d?d:b.length;0>d&&(d=d+b.length-c);return b.slice(0,c)+a.substr(0,d)+a.slice(d)+
b.slice(c+d)},l="",k="",f="",h=!1,p=!1,r=!1,q=null,t=q=0,t=0;t<a.length;){switch(a.substr(t,1)){case '"':h||p||r?p||r||(l=b(a,q+1,t-q-1),a=c(a,"",q,t-q+1),q=t=t=0,h=!1):(h=!0,q=t);break;case "<":h||p||r||(0<t&&0===l.length&&(l=b(a,0,t)),p=!0,q=t);break;case ">":p&&(k=b(a,q+1,t-q-1),a=c(a,"",q,t-q+1),q=t=t=0,p=!1);break;case "(":h||p||r||(r=!0,q=t);break;case ")":r&&(f=b(a,q+1,t-q-1),a=c(a,"",q,t-q+1),q=t=t=0,r=!1);break;case "\\":t++}t++}0===k.length&&((q=a.match(/[^@\s]+@\S+/i))&&q[0]?k=q[0]:l=a);
0<k.length&&0===l.length&&0===f.length&&(l=a.replace(k,""));k=e.trim(k).replace(/^[<]+/,"").replace(/[>]+$/,"");l=e.trim(l).replace(/^["']+/,"").replace(/["']+$/,"");f=e.trim(f).replace(/^[(]+/,"").replace(/[)]+$/,"");l=l.replace(/\\\\(.)/g,"$1");f=f.replace(/\\\\(.)/g,"$1");this.name=l;this.email=k;this.clearDuplicateName();return!0};h.exports=a})()},,,,function(h,f,c){(function(){function a(){this.google={};this.twitter={};this.facebook={};this.dropbox={};this.google.enabled=e.observable(!1);this.google.clientID=
e.observable("");this.google.clientSecret=e.observable("");this.google.apiKey=e.observable("");this.google.loading=e.observable(!1);this.google.userName=e.observable("");this.google.loggined=e.computed(function(){return""!==this.google.userName()},this);this.google.capa={};this.google.capa.auth=e.observable(!1);this.google.capa.authFast=e.observable(!1);this.google.capa.drive=e.observable(!1);this.google.capa.preview=e.observable(!1);this.google.require={};this.google.require.clientSettings=e.computed(function(){return this.google.enabled()&&
(this.google.capa.auth()||this.google.capa.drive())},this);this.google.require.apiKeySettings=e.computed(function(){return this.google.enabled()&&this.google.capa.drive()},this);this.facebook.enabled=e.observable(!1);this.facebook.appID=e.observable("");this.facebook.appSecret=e.observable("");this.facebook.loading=e.observable(!1);this.facebook.userName=e.observable("");this.facebook.supported=e.observable(!1);this.facebook.loggined=e.computed(function(){return""!==this.facebook.userName()},this);
this.twitter.enabled=e.observable(!1);this.twitter.consumerKey=e.observable("");this.twitter.consumerSecret=e.observable("");this.twitter.loading=e.observable(!1);this.twitter.userName=e.observable("");this.twitter.loggined=e.computed(function(){return""!==this.twitter.userName()},this);this.dropbox.enabled=e.observable(!1);this.dropbox.apiKey=e.observable("")}var e=c(2);a.prototype.google={};a.prototype.twitter={};a.prototype.facebook={};a.prototype.dropbox={};a.prototype.populate=function(){var a=
c(9);this.google.enabled(!!a.settingsGet("AllowGoogleSocial"));this.google.clientID(a.settingsGet("GoogleClientID"));this.google.clientSecret(a.settingsGet("GoogleClientSecret"));this.google.apiKey(a.settingsGet("GoogleApiKey"));this.google.capa.auth(!!a.settingsGet("AllowGoogleSocialAuth"));this.google.capa.authFast(!!a.settingsGet("AllowGoogleSocialAuthFast"));this.google.capa.drive(!!a.settingsGet("AllowGoogleSocialDrive"));this.google.capa.preview(!!a.settingsGet("AllowGoogleSocialPreview"));
this.facebook.enabled(!!a.settingsGet("AllowFacebookSocial"));this.facebook.appID(a.settingsGet("FacebookAppID"));this.facebook.appSecret(a.settingsGet("FacebookAppSecret"));this.facebook.supported(!!a.settingsGet("SupportedFacebookSocial"));this.twitter.enabled=e.observable(!!a.settingsGet("AllowTwitterSocial"));this.twitter.consumerKey=e.observable(a.settingsGet("TwitterConsumerKey"));this.twitter.consumerSecret=e.observable(a.settingsGet("TwitterConsumerSecret"));this.dropbox.enabled(!!a.settingsGet("AllowDropboxSocial"));
this.dropbox.apiKey(a.settingsGet("DropboxApiKey"))};h.exports=new a})()},function(h,f,c){function a(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}var e=(f=c(2))&&f.__esModule?f:{default:f},d=(f=c(9))&&f.__esModule?f:{default:f};c=function(b){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");var a;a=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.determineUserLanguage=e.default.observable(!1);a.determineUserDomain=e.default.observable(!1);a.weakPassword=e.default.observable(!1);a.useLocalProxyForExternalImages=e.default.observable(!1);return a}a(c,b);c.prototype.populate=function(){b.prototype.populate.call(this);
this.determineUserLanguage(!!d.default.settingsGet("DetermineUserLanguage"));this.determineUserDomain(!!d.default.settingsGet("DetermineUserDomain"));this.weakPassword(!!d.default.settingsGet("WeakPassword"));this.useLocalProxyForExternalImages(!!d.default.settingsGet("UseLocalProxyForExternalImages"))};return c}(c(76).AbstractAppStore);h.exports=new c},function(h,f){h.exports=window.JSON},function(h,f,c){function a(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!==typeof a&&"function"!==typeof a?b:a}function e(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}f.__esModule=!0;f.default=f.AbstractInput=void 0;var d=(h=c(2))&&h.__esModule?h:{default:h},b=(h=c(1))&&h.__esModule?h:{default:h},
g=c(4);c=function(c){function k(g){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");var e=a(this,c.call(this));e.value=g.value||"";e.size=g.size||0;e.label=g.label||"";e.preLabel=g.preLabel||"";e.enable=b.default.isUnd(g.enable)?!0:g.enable;e.trigger=g.trigger&&g.trigger.subscribe?g.trigger:null;e.placeholder=g.placeholder||"";e.labeled=!b.default.isUnd(g.label);e.preLabeled=!b.default.isUnd(g.preLabel);e.triggered=!b.default.isUnd(g.trigger)&&!!e.trigger;e.classForTrigger=
d.default.observable("");e.className=d.default.computed(function(){var a=d.default.unwrap(e.size),c=e.trigger?" "+b.default.trim("settings-saved-trigger-input "+e.classForTrigger()):"";return(0<a?"span"+a:"")+c},e);!b.default.isUnd(g.width)&&g.element&&g.element.find("input,select,textarea").css("width",g.width);e.disposable.push(e.className);e.trigger&&(e.setTriggerState(e.trigger()),e.disposable.push(e.trigger.subscribe(e.setTriggerState,e)));return e}e(k,c);k.prototype.setTriggerState=function(a){switch(b.default.pInt(a)){case g.SaveSettingsStep.TrueResult:this.classForTrigger("success");
break;case g.SaveSettingsStep.FalseResult:this.classForTrigger("error");break;default:this.classForTrigger("")}};return k}(c(16).AbstractComponent);f.AbstractInput=c;f.default=c},function(h,f,c){function a(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=
c)}f=c(16);c=function(c){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var b=c.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?this:b}a(d,c);return d}(c(46).AbstracCheckbox);h.exports=(0,f.componentExportHelper)(c,"CheckboxComponent")},function(h,f,c){(function(){function a(a,c){this.sScreenName=a;this.aViewModels=b.isArray(c)?c:
[]}var e=c(3),d=c(49),b=c(1);a.prototype.oCross=null;a.prototype.sScreenName="";a.prototype.aViewModels=[];a.prototype.viewModels=function(){return this.aViewModels};a.prototype.screenName=function(){return this.sScreenName};a.prototype.routes=function(){return null};a.prototype.__cross=function(){return this.oCross};a.prototype.__start=function(){var a=this.routes(),c=null,k=null;b.isNonEmptyArray(a)&&(k=e.bind(this.onRoute||b.emptyFunction,this),c=d.create(),e.each(a,function(b){c.addRoute(b[0],
k).rules=b[1]}),this.oCross=c)};h.exports=a})()},function(h,f,c){(function(){function a(){this.languages=e.observableArray([]);this.languagesAdmin=e.observableArray([]);this.language=e.observable("").extend({limitedList:this.languages});this.languageAdmin=e.observable("").extend({limitedList:this.languagesAdmin});this.userLanguage=e.observable("");this.userLanguageAdmin=e.observable("")}var e=c(2),d=c(1),b=c(9);a.prototype.populate=function(){var a=b.appSettingsGet("languages"),c=b.appSettingsGet("languagesAdmin");
this.languages(d.isArray(a)?a:[]);this.languagesAdmin(d.isArray(c)?c:[]);this.language(b.settingsGet("Language"));this.languageAdmin(b.settingsGet("LanguageAdmin"));this.userLanguage(b.settingsGet("UserLanguage"));this.userLanguageAdmin(b.settingsGet("UserLanguageAdmin"))};h.exports=new a})()},,function(h,f,c){(function(){function a(){this.themes=e.observableArray([]);this.themeBackgroundName=e.observable("");this.themeBackgroundHash=e.observable("");this.theme=e.observable("").extend({limitedList:this.themes})}
var e=c(2),d=c(1),b=c(9);a.prototype.populate=function(){var a=b.appSettingsGet("themes");this.themes(d.isArray(a)?a:[]);this.theme(b.settingsGet("Theme"));this.themeBackgroundName(b.settingsGet("UserBackgroundName"));this.themeBackgroundHash(b.settingsGet("UserBackgroundHash"))};h.exports=new a})()},function(h,f,c){(function(){function a(){n.call(this,"Popups","PopupsAsk");this.askDesc=d.observable("");this.yesButton=d.observable("");this.noButton=d.observable("");this.yesFocus=d.observable(!1);
this.noFocus=d.observable(!1);this.fNoAction=this.fYesAction=null;this.bDisabeCloseOnEsc=this.bFocusYesOnShow=!0;this.sDefaultKeyScope=g.KeyState.PopupAsk;f.constructorEnd(this)}var e=c(3),d=c(2),b=c(18),g=c(4),l=c(1),k=c(6),f=c(5),n=c(10);f.extendAsViewModel(["View/Popup/Ask","PopupsAskViewModel"],a);e.extend(a.prototype,n.prototype);a.prototype.clearPopup=function(){this.askDesc("");this.yesButton(k.i18n("POPUPS_ASK/BUTTON_YES"));this.noButton(k.i18n("POPUPS_ASK/BUTTON_NO"));this.yesFocus(!1);this.noFocus(!1);
this.fNoAction=this.fYesAction=null};a.prototype.yesClick=function(){this.cancelCommand();l.isFunc(this.fYesAction)&&this.fYesAction.call(null)};a.prototype.noClick=function(){this.cancelCommand();l.isFunc(this.fNoAction)&&this.fNoAction.call(null)};a.prototype.onShow=function(b,a,c,d,e,g){this.clearPopup();this.fYesAction=a||null;this.fNoAction=c||null;this.askDesc(b||"");d&&this.yesButton(d);d&&this.yesButton(e);this.bFocusYesOnShow=l.isUnd(g)?!0:!!g};a.prototype.onShowWithDelay=function(){this.bFocusYesOnShow&&
this.yesFocus(!0)};a.prototype.onBuild=function(){b("tab, shift+tab, right, left",g.KeyState.PopupAsk,e.bind(function(){this.yesFocus()?this.noFocus(!0):this.yesFocus(!0);return!1},this));b("esc",g.KeyState.PopupAsk,e.bind(function(){this.noClick();return!1},this))};h.exports=a})()},function(h,f,c){(function(){function a(){l.call(this,"Popups","PopupsLanguages");var a=this;this.fLang=null;this.userLanguage=d.observable("");this.langs=d.observableArray([]);this.languages=d.computed(function(){var c=
a.userLanguage();return e.map(a.langs(),function(a){return{key:a,user:a===c,selected:d.observable(!1),fullName:b.convertLangName(a)}})});this.langs.subscribe(function(){this.setLanguageSelection()},this);g.constructorEnd(this)}var e=c(3),d=c(2),b=c(1),g=c(5),l=c(10);g.extendAsViewModel(["View/Popup/Languages","PopupsLanguagesViewModel"],a);e.extend(a.prototype,l.prototype);a.prototype.languageTooltipName=function(a){var c=b.convertLangName(a,!0);return b.convertLangName(a,!1)===c?"":c};a.prototype.setLanguageSelection=
function(){var b=this.fLang?d.unwrap(this.fLang):"";e.each(this.languages(),function(a){a.selected(a.key===b)})};a.prototype.onBeforeShow=function(){this.fLang=null;this.userLanguage("");this.langs([])};a.prototype.onShow=function(b,a,c){this.fLang=b;this.userLanguage(c||"");this.langs(a)};a.prototype.changeLanguage=function(b){this.fLang&&this.fLang(b);this.cancelCommand()};h.exports=a})()},function(h,f,c){f.__esModule=!0;f.default=f.HtmlEditor=void 0;var a=c(13),e=c(8),d=e&&e.__esModule?e:{default:e},
b=(c=c(9))&&c.__esModule?c:{default:c};c=function(){function c(b){var d=1>=arguments.length||void 0===arguments[1]?null:arguments[1],e=2>=arguments.length||void 0===arguments[2]?null:arguments[2],f=3>=arguments.length||void 0===arguments[3]?null:arguments[3];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.$element=this.editor=null;this.blurTimer=0;this.__inited=this.onModeChange=this.onReady=this.onBlur=null;this.onBlur=d;this.onReady=e;this.onModeChange=f;this.$element=
(0,a.$)(b);this.resize=a._.throttle(a._.bind(this.resize,this),100);this.__inited=!1;this.init()}c.prototype.blurTrigger=function(){var b=this;this.onBlur&&(a.window.clearTimeout(this.blurTimer),this.blurTimer=a.window.setTimeout(function(){b.onBlur()},200))};c.prototype.focusTrigger=function(){this.onBlur&&a.window.clearTimeout(this.blurTimer)};c.prototype.isHtml=function(){return this.editor?"wysiwyg"===this.editor.mode:!1};c.prototype.setSignature=function(b,a,c){this.editor&&this.editor.execCommand("insertSignature",
{isHtml:a,insertBefore:c,signature:b})};c.prototype.checkDirty=function(){return this.editor?this.editor.checkDirty():!1};c.prototype.resetDirty=function(){this.editor&&this.editor.resetDirty()};c.prototype.clearSignatureSigns=function(b){return b.replace(/(\u200C|\u0002)/g,"")};c.prototype.getData=function(){var b=0>=arguments.length||void 0===arguments[0]?!1:arguments[0],a=1>=arguments.length||void 0===arguments[1]?!1:arguments[1],c="";if(this.editor){try{c="plain"===this.editor.mode&&this.editor.plugins.plain&&
this.editor.__plain?this.editor.__plain.getRawData():b?'<div data-html-editor-font-wrapper="true" style="font-family: arial, sans-serif; font-size: 13px;">'+this.editor.getData()+"</div>":this.editor.getData()}catch(d){}a&&(c=this.clearSignatureSigns(c))}return c};c.prototype.getDataWithHtmlMark=function(){var b=0>=arguments.length||void 0===arguments[0]?!1:arguments[0],a=1>=arguments.length||void 0===arguments[1]?!1:arguments[1];return(this.isHtml()?":HTML:":"")+this.getData(b,a)};c.prototype.modeToggle=
function(b,a){if(this.editor){try{b?"plain"===this.editor.mode&&this.editor.setMode("wysiwyg"):"wysiwyg"===this.editor.mode&&this.editor.setMode("plain")}catch(c){}a&&this.resize()}};c.prototype.setHtmlOrPlain=function(b,a){":HTML:"===b.substr(0,6)?this.setHtml(b.substr(6),a):this.setPlain(b,a)};c.prototype.setHtml=function(b,a){if(this.editor&&this.__inited){this.modeToggle(!0);b=b.replace(/<p[^>]*><\/p>/ig,"");try{this.editor.setData(b)}catch(c){}a&&this.focus()}};c.prototype.replaceHtml=function(b,
a){if(this.editor&&this.__inited&&"wysiwyg"===this.editor.mode)try{this.editor.setData(this.editor.getData().replace(b,a))}catch(c){}};c.prototype.setPlain=function(b,a){if(this.editor&&this.__inited){this.modeToggle(!1);if("plain"===this.editor.mode&&this.editor.plugins.plain&&this.editor.__plain)this.editor.__plain.setRawData(b);else try{this.editor.setData(b)}catch(c){}a&&this.focus()}};c.prototype.init=function(){var c=this;if(this.$element&&this.$element[0]&&!this.editor){var e=function(){var e=
d.default.oHtmlEditorDefaultConfig,g=b.default.settingsGet("Language"),k=!!b.default.appSettingsGet("allowHtmlEditorSourceButton"),f=!!b.default.appSettingsGet("allowHtmlEditorBitiButtons");!k&&f||e.toolbarGroups.__cfgInited||(e.toolbarGroups.__cfgInited=!0,k&&(e.removeButtons=e.removeButtons.replace(",Source","")),f||(e.removePlugins+=(e.removePlugins?",":"")+"bidi"));e.enterMode=a.window.CKEDITOR.ENTER_BR;e.shiftEnterMode=a.window.CKEDITOR.ENTER_P;e.language=d.default.oHtmlEditorLangsMap[g]||"en";
a.window.CKEDITOR.env&&(a.window.CKEDITOR.env.isCompatible=!0);c.editor=a.window.CKEDITOR.appendTo(c.$element[0],e);c.editor.on("key",function(b){if(b&&b.data&&9===b.data.keyCode)return!1});c.editor.on("blur",function(){c.blurTrigger()});c.editor.on("mode",function(){c.blurTrigger();if(c.onModeChange)c.onModeChange("plain"!==c.editor.mode)});c.editor.on("focus",function(){c.focusTrigger()});if(a.window.FileReader)c.editor.on("drop",function(b){if(0<b.data.dataTransfer.getFilesCount()){var d=b.data.dataTransfer.getFile(0);
if(d&&a.window.FileReader&&b.data.dataTransfer.id&&d.type&&d.type.match(/^image/i)){var e="[img="+b.data.dataTransfer.id+"]",g=new a.window.FileReader;g.onloadend=function(){g.result&&c.replaceHtml(e,'<img src="'+g.result+'" />')};g.readAsDataURL(d);b.data.dataTransfer.setData("text/html",e)}}});c.editor.on("instanceReady",function(){c.editor.removeMenuItem&&(c.editor.removeMenuItem("cut"),c.editor.removeMenuItem("copy"),c.editor.removeMenuItem("paste"));c.__resizable=!0;c.__inited=!0;c.resize();
if(c.onReady)c.onReady()})};a.window.CKEDITOR?e():a.window.__initEditor=e}};c.prototype.focus=function(){if(this.editor)try{this.editor.focus()}catch(b){}};c.prototype.hasFocus=function(){if(this.editor)try{return!!this.editor.focusManager.hasFocus}catch(b){}return!1};c.prototype.blur=function(){if(this.editor)try{this.editor.focusManager.blur(!0)}catch(b){}};c.prototype.resize=function(){if(this.editor&&this.__resizable)try{this.editor.resize(this.$element.width(),this.$element.innerHeight())}catch(b){}};
c.prototype.setReadOnly=function(b){if(this.editor)try{this.editor.setReadOnly(!!b)}catch(a){}};c.prototype.clear=function(b){this.setHtml("",b)};return c}();f.HtmlEditor=c;f.default=c;h.exports=c},function(h,f,c){function a(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
a):b.__proto__=a)}f.__esModule=!0;f.default=f.AbstracCheckbox=void 0;var e=(h=c(2))&&h.__esModule?h:{default:h},d=(h=c(1))&&h.__esModule?h:{default:h};c=function(b){function c(){var a=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var k;k=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");k=!k||"object"!==typeof k&&"function"!==typeof k?this:k;k.value=
a.value;if(d.default.isUnd(k.value)||!k.value.subscribe)k.value=e.default.observable(d.default.isUnd(k.value)?!1:!!k.value);k.enable=a.enable;if(d.default.isUnd(k.enable)||!k.enable.subscribe)k.enable=e.default.observable(d.default.isUnd(k.enable)?!0:!!k.enable);k.disable=a.disable;if(d.default.isUnd(k.disable)||!k.disable.subscribe)k.disable=e.default.observable(d.default.isUnd(k.disable)?!1:!!k.disable);k.label=a.label||"";k.inline=d.default.isUnd(a.inline)?!1:a.inline;k.readOnly=d.default.isUnd(a.readOnly)?
!1:!!a.readOnly;k.inverted=d.default.isUnd(a.inverted)?!1:!!a.inverted;k.labeled=!d.default.isUnd(a.label);k.labelAnimated=!!a.labelAnimated;return k}a(c,b);c.prototype.click=function(){this.readOnly||!this.enable()||this.disable()||this.value(!this.value())};return c}(c(16).AbstractComponent);f.AbstracCheckbox=c;f.default=c},,function(h,f){h.exports=window.Q},function(h,f){h.exports=window.crossroads},function(h,f,c){(function(){function a(){this.additionalAccounts=e.observable(!1);this.identities=
e.observable(!1);this.gravatar=e.observable(!1);this.attachmentThumbnails=e.observable(!1);this.sieve=e.observable(!1);this.filters=e.observable(!1);this.themes=e.observable(!0);this.userBackground=e.observable(!1);this.openPGP=e.observable(!1);this.twoFactorAuth=e.observable(!1);this.twoFactorAuthForce=e.observable(!1);this.templates=e.observable(!1)}var e=c(2),d=c(4),b=c(9);a.prototype.populate=function(){this.additionalAccounts(b.capa(d.Capa.AdditionalAccounts));this.identities(b.capa(d.Capa.Identities));
this.gravatar(b.capa(d.Capa.Gravatar));this.attachmentThumbnails(b.capa(d.Capa.AttachmentThumbnails));this.sieve(b.capa(d.Capa.Sieve));this.filters(b.capa(d.Capa.Filters));this.themes(b.capa(d.Capa.Themes));this.userBackground(b.capa(d.Capa.UserBackground));this.openPGP(b.capa(d.Capa.OpenPGP));this.twoFactorAuth(b.capa(d.Capa.TwoFactor));this.twoFactorAuthForce(b.capa(d.Capa.TwoFactorForce));this.templates(b.capa(d.Capa.Templates))};h.exports=new a})()},,,,function(h,f,c){f=c(11).Opentip;f.styles.rainloop=
{"extends":"standard",fixed:!0,target:!0,delay:.2,hideDelay:0,hideEffect:"fade",hideEffectDuration:.2,showEffect:"fade",showEffectDuration:.2,showOn:"mouseover click",removeElementsOnHide:!0,background:"#fff",shadow:!1,borderColor:"#999",borderRadius:2,borderWidth:1};f.styles.rainloopTip={"extends":"rainloop",delay:.4,group:"rainloopTips"};f.styles.rainloopErrorTip={"extends":"rainloop",className:"rainloopErrorTip"};h.exports=f},function(h,f,c){(function(){function a(){this.oRequests={}}var e=c(11),
d=c(3),b=c(14),g=c(17),l=c(4),k=c(8),f=c(1),n=c(23),p=c(12),r=c(9);a.prototype.oRequests={};a.prototype.defaultResponse=function(b,a,c,e,h,r){var p=function(){l.StorageResultType.Success!==c&&k.bUnload&&(c=l.StorageResultType.Unload);l.StorageResultType.Success===c&&e&&!e.Result?(e&&-1<f.inArray(e.ErrorCode,[l.Notification.AuthError,l.Notification.AccessError,l.Notification.ConnectionError,l.Notification.DomainNotAllowed,l.Notification.AccountNotAllowed,l.Notification.MailServerError,l.Notification.UnknownNotification,
l.Notification.UnknownError])&&k.iAjaxErrorCount++,e&&l.Notification.InvalidToken===e.ErrorCode&&k.iTokenErrorCount++,g.TOKEN_ERROR_LIMIT<k.iTokenErrorCount&&k.__APP__&&k.__APP__.loginAndLogoutReload&&k.__APP__.loginAndLogoutReload(!1,!0),(e.ClearAuth||e.Logout||g.AJAX_ERROR_LIMIT<k.iAjaxErrorCount)&&k.__APP__&&k.__APP__.clearClientSideToken&&(k.__APP__.clearClientSideToken(),!e.ClearAuth&&k.__APP__.loginAndLogoutReload&&k.__APP__.loginAndLogoutReload(!1,!0))):l.StorageResultType.Success===c&&e&&
e.Result&&(k.iAjaxErrorCount=0,k.iTokenErrorCount=0);b&&(n.runHook("ajax-default-response",[a,l.StorageResultType.Success===c?e:null,c,h,r]),b(c,l.StorageResultType.Success===c?e:null,h,a,r))};switch(c){case "success":c=l.StorageResultType.Success;break;case "abort":c=l.StorageResultType.Abort;break;default:c=l.StorageResultType.Error}l.StorageResultType.Error===c?d.delay(p,300):p()};a.prototype.ajaxRequest=function(a,c,g,l,k){var h=this,n=""===l,E=(new e.Date).getTime(),C=null,x="";c=c||{};g=f.isNormal(g)?
g:2E4;l=f.isUnd(l)?"":f.pString(l);k=f.isArray(k)?k:[];(x=c.Action||"")&&0<k.length&&d.each(k,function(b){h.oRequests[b]&&(h.oRequests[b].__aborted=!0,h.oRequests[b].abort&&h.oRequests[b].abort(),h.oRequests[b]=null)});n&&(c.XToken=r.appSettingsGet("token"));C=b.ajax({type:n?"POST":"GET",url:p.ajax(l),async:!0,dataType:"json",data:n?c:{},headers:{},timeout:g,global:!0});C.always(function(b,d){var g=!1;b&&b.Time&&(g=f.pInt(b.Time)>(new e.Date).getTime()-E);x&&h.oRequests[x]&&(h.oRequests[x].__aborted&&
(d="abort"),h.oRequests[x]=null);h.defaultResponse(a,x,d,b,g,c)});x&&0<k.length&&-1<f.inArray(x,k)&&(this.oRequests[x]&&(this.oRequests[x].__aborted=!0,this.oRequests[x].abort&&this.oRequests[x].abort(),this.oRequests[x]=null),this.oRequests[x]=C);return C};a.prototype.defaultRequest=function(b,a,c,d,e,l){c=c||{};c.Action=a;e=f.pString(e);n.runHook("ajax-default-request",[a,c,e]);return this.ajaxRequest(b,c,f.isUnd(d)?g.DEFAULT_AJAX_TIMEOUT:f.pInt(d),e,l)};a.prototype.noop=function(b){this.defaultRequest(b,
"Noop")};a.prototype.jsError=function(b,a,c,d,e,g,l){this.defaultRequest(b,"JsError",{Message:a,FileName:c,LineNo:d,Location:e,HtmlCapa:g,TimeOnPage:l})};a.prototype.jsInfo=function(b,a,c,d){this.defaultRequest(b,"JsInfo",{Type:a,Data:c,IsError:(f.isUnd(d)?0:d)?"1":"0"})};a.prototype.getPublicKey=function(b){this.defaultRequest(b,"GetPublicKey")};a.prototype.jsVersion=function(b,a){this.defaultRequest(b,"Version",{Version:a})};h.exports=a})()},function(h,f,c){(function(){function a(a){n.call(this,
"settings",a);this.menu=b.observableArray([]);this.oViewModelPlace=this.oCurrentSubScreen=null;this.setupSettings()}var e=c(3),d=c(14),b=c(2),g=c(8),l=c(1),k=c(12),f=c(5),n=c(39);e.extend(a.prototype,n.prototype);a.prototype.setupSettings=function(b){b&&b()};a.prototype.onRoute=function(a){var c=this,h=null,n=null,w=null,v=null;if(n=e.find(g.aViewModels.settings,function(b){return b&&b.__rlSettingsData&&a===b.__rlSettingsData.Route}))e.find(g.aViewModels["settings-removed"],function(b){return b&&
b===n})&&(n=null),n&&e.find(g.aViewModels["settings-disabled"],function(b){return b&&b===n})&&(n=null);n?(n.__builded&&n.__vm?h=n.__vm:(w=this.oViewModelPlace)&&1===w.length?(h=new n,v=d("<div></div>").addClass("rl-settings-view-model").hide(),v.appendTo(w),h.viewModelDom=v,h.__rlSettingsData=n.__rlSettingsData,n.__dom=v,n.__builded=!0,n.__vm=h,b.applyBindingAccessorsToNode(v[0],{translatorInit:!0,template:function(){return{name:n.__rlSettingsData.Template}}},h),l.delegateRun(h,"onBuild",[v])):l.log("Cannot find sub settings view model position: SettingsSubScreen"),
h&&e.defer(function(){c.oCurrentSubScreen&&(l.delegateRun(c.oCurrentSubScreen,"onHide"),c.oCurrentSubScreen.viewModelDom.hide());c.oCurrentSubScreen=h;c.oCurrentSubScreen&&(l.delegateRun(c.oCurrentSubScreen,"onBeforeShow"),c.oCurrentSubScreen.viewModelDom.show(),l.delegateRun(c.oCurrentSubScreen,"onShow"),l.delegateRun(c.oCurrentSubScreen,"onShowWithDelay",[],200),e.each(c.menu(),function(b){b.selected(h&&h.__rlSettingsData&&b.route===h.__rlSettingsData.Route)}),d("#rl-content .b-settings .b-content .content").scrollTop(0));
l.windowResize()})):f.setHash(k.settings(),!1,!0)};a.prototype.onHide=function(){this.oCurrentSubScreen&&this.oCurrentSubScreen.viewModelDom&&(l.delegateRun(this.oCurrentSubScreen,"onHide"),this.oCurrentSubScreen.viewModelDom.hide())};a.prototype.onBuild=function(){e.each(g.aViewModels.settings,function(a){a&&a.__rlSettingsData&&!e.find(g.aViewModels["settings-removed"],function(b){return b&&b===a})&&this.menu.push({route:a.__rlSettingsData.Route,label:a.__rlSettingsData.Label,selected:b.observable(!1),
disabled:!!e.find(g.aViewModels["settings-disabled"],function(b){return b&&b===a})})},this);this.oViewModelPlace=d("#rl-content #rl-settings-subscreen")};a.prototype.routes=function(){var b=e.find(g.aViewModels.settings,function(b){return b&&b.__rlSettingsData&&b.__rlSettingsData.IsDefault}),a=b?b.__rlSettingsData.Route:"general",b={subname:/^(.*)$/,normalize_:function(b,c){c.subname=l.isUnd(c.subname)?a:l.pString(c.subname);return[c.subname]}};return[["{subname}/",b],["{subname}",b],["",b]]};h.exports=
a})()},function(h,f,c){(function(){var a=c(2);h.exports=new function(){this.domains=a.observableArray([]);this.domains.loading=a.observable(!1).extend({throttle:100})}})()},function(h,f,c){(function(){var a=c(2);h.exports=new function(){this.packages=a.observableArray([]);this.packages.loading=a.observable(!1).extend({throttle:100});this.packagesReal=a.observable(!0);this.packagesMainUpdatable=a.observable(!0)}})()},function(h,f,c){(function(){var a=c(2);h.exports=new function(){this.plugins=a.observableArray([]);
this.plugins.loading=a.observable(!1).extend({throttle:100});this.plugins.error=a.observable("")}})()},,,,,function(h,f,c){function a(b){return b&&b.__esModule?b:{default:b}}function e(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?b:a}function d(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&
a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}f.__esModule=!0;f.default=f.AbstractApp=void 0;var b=c(13);h=c(8);var g=a(h),l=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a.default=b;return a}(c(4));h=c(1);var k=a(h);h=c(12);var m=a(h);h=c(25);var n=a(h);h=c(6);var p=a(h);h=c(9);var r=a(h);h=function(a){function f(c){if(!(this instanceof
f))throw new TypeError("Cannot call a class as a function");var d=e(this,a.call(this));d.googlePreviewSupportedCache=null;d.isLocalAutocomplete=!0;d.iframe=null;d.iframe=(0,b.$)('<iframe style="display:none" src="javascript:;" />').appendTo("body");g.default.$win.on("error",function(a){a&&a.originalEvent&&a.originalEvent.message&&-1===k.default.inArray(a.originalEvent.message,["Script error.","Uncaught Error: Error calling method on NPObject."])&&c.jsError(k.default.emptyFunction,a.originalEvent.message,
a.originalEvent.filename,a.originalEvent.lineno,b.window.location&&b.window.location.toString?b.window.location.toString():"",g.default.$html.attr("class"),k.default.microtime()-g.default.startMicrotime)});g.default.$win.on("resize",function(){n.default.pub("window.resize")});n.default.sub("window.resize",b._.throttle(function(){var b=g.default.$win.height(),a=g.default.$win.height();if(g.default.$win.__sizes[0]!==b||g.default.$win.__sizes[1]!==a)g.default.$win.__sizes[0]=b,g.default.$win.__sizes[1]=
a,n.default.pub("window.resize.real")},50));g.default.$doc.on("keydown",function(b){b&&b.ctrlKey&&g.default.$html.addClass("rl-ctrl-key-pressed")}).on("keyup",function(b){b&&!b.ctrlKey&&g.default.$html.removeClass("rl-ctrl-key-pressed")});g.default.$doc.on("mousemove keypress click",b._.debounce(function(){n.default.pub("rl.auto-logout-refresh")},5E3));(0,b.key)("esc, enter",l.KeyState.All,b._.bind(function(){k.default.detectDropdownVisibility()},d));return d}d(f,a);f.prototype.remote=function(){return null};
f.prototype.data=function(){return null};f.prototype.getApplicationConfiguration=function(b,a){return this.applicationConfiguration[b]||a};f.prototype.download=function(a){if(g.default.sUserAgent&&(-1<g.default.sUserAgent.indexOf("chrome")||-1<g.default.sUserAgent.indexOf("chrome"))){var c=b.window.document.createElement("a");c.href=a;if(b.window.document&&b.window.document.createEvent){var d=b.window.document.createEvent.MouseEvents;if(d&&d.initEvent&&c.dispatchEvent)return d.initEvent("click",!0,
!0),c.dispatchEvent(d),!0}}g.default.bMobileDevice?(b.window.open(a,"_self"),b.window.focus()):this.iframe.attr("src",a);return!0};f.prototype.googlePreviewSupported=function(){null===this.googlePreviewSupportedCache&&(this.googlePreviewSupportedCache=!!r.default.settingsGet("AllowGoogleSocial")&&!!r.default.settingsGet("AllowGoogleSocialPreview"));return this.googlePreviewSupportedCache};f.prototype.setWindowTitle=function(a){a=k.default.isNormal(a)&&0<a.length?""+a:"";r.default.settingsGet("Title")&&
(a+=(a?" - ":"")+r.default.settingsGet("Title"));b.window.document.title=a+" ...";b.window.document.title=a};f.prototype.redirectToAdminPanel=function(){b._.delay(function(){return b.window.location.href=m.default.rootAdmin()},100)};f.prototype.clearClientSideToken=function(){b.window.__rlah_clear&&b.window.__rlah_clear()};f.prototype.setClientSideToken=function(a){b.window.__rlah_set&&(b.window.__rlah_set(a),c(9).settingsSet("AuthAccountHash",a),c(12).populateAuthSuffix())};f.prototype.loginAndLogoutReload=
function(){var a=0>=arguments.length||void 0===arguments[0]?!1:arguments[0],d=1>=arguments.length||void 0===arguments[1]?!1:arguments[1],e=2>=arguments.length||void 0===arguments[2]?!1:arguments[2],g=c(5),l=r.default.appSettingsGet("mobile"),f=!!r.default.appSettingsGet("inIframe"),h=k.default.pString(r.default.appSettingsGet("customLogoutLink"));d&&this.clearClientSideToken();d&&e&&b.window.close&&b.window.close();h=h||(a?m.default.rootAdmin(l):m.default.rootUser(l));d&&b.window.location.href!==
h?b._.delay(function(){f&&b.window.parent?b.window.parent.location.href=h:b.window.location.href=h},100):(g.routeOff(),g.setHash(m.default.root(),!0),g.routeOff(),b._.delay(function(){f&&b.window.parent?b.window.parent.location.reload():b.window.location.reload()},100))};f.prototype.historyBack=function(){b.window.history.back()};f.prototype.bootstart=function(){n.default.pub("rl.bootstart");var a=r.default.appSettingsGet("mobile"),d=c(84),e=c(2);e.components.register("SaveTrigger",c(71));e.components.register("Input",
c(68));e.components.register("Select",c(73));e.components.register("Radio",c(70));e.components.register("TextArea",c(74));e.components.register("x-script",c(72));r.default.appSettingsGet("materialDesign")&&g.default.bAnimationSupported?e.components.register("Checkbox",c(69)):e.components.register("Checkbox",c(38));e.components.register("CheckboxSimple",c(38));p.default.initOnStartOrLangChange(p.default.initNotificationLanguage,p.default);b._.delay(k.default.windowResizeCallback,1E3);n.default.sub("ssm.mobile-enter",
function(){g.default.leftPanelDisabled(!0)});n.default.sub("ssm.mobile-leave",function(){g.default.leftPanelDisabled(!1)});a?(g.default.$html.addClass("ssm-state-mobile").addClass("rl-mobile"),n.default.pub("ssm.mobile-enter")):(d.addState({id:"mobile",maxWidth:767,onEnter:function(){g.default.$html.addClass("ssm-state-mobile");n.default.pub("ssm.mobile-enter")},onLeave:function(){g.default.$html.removeClass("ssm-state-mobile");n.default.pub("ssm.mobile-leave")}}),d.addState({id:"tablet",minWidth:768,
maxWidth:999,onEnter:function(){g.default.$html.addClass("ssm-state-tablet")},onLeave:function(){g.default.$html.removeClass("ssm-state-tablet")}}),d.addState({id:"desktop",minWidth:1E3,maxWidth:1400,onEnter:function(){g.default.$html.addClass("ssm-state-desktop")},onLeave:function(){g.default.$html.removeClass("ssm-state-desktop")}}),d.addState({id:"desktop-large",minWidth:1400,onEnter:function(){g.default.$html.addClass("ssm-state-desktop-large")},onLeave:function(){g.default.$html.removeClass("ssm-state-desktop-large")}}));
g.default.leftPanelDisabled.subscribe(function(b){g.default.$html.toggleClass("rl-left-panel-disabled",b);g.default.$html.toggleClass("rl-left-panel-enabled",!b)});g.default.leftPanelType.subscribe(function(b){g.default.$html.toggleClass("rl-left-panel-none","none"===b);g.default.$html.toggleClass("rl-left-panel-short","short"===b)});g.default.leftPanelDisabled.valueHasMutated();d.ready();c(40).populate();c(42).populate();c(34).populate()};return f}(c(75).AbstractBoot);f.AbstractApp=h;f.default=h},
,function(h,f){h.exports={eml:"message/rfc822",mime:"message/rfc822",txt:"text/plain",text:"text/plain",def:"text/plain",list:"text/plain","in":"text/plain",ini:"text/plain",log:"text/plain",sql:"text/plain",cfg:"text/plain",conf:"text/plain",asc:"text/plain",rtx:"text/richtext",vcard:"text/vcard",vcf:"text/vcard",htm:"text/html",html:"text/html",csv:"text/csv",ics:"text/calendar",ifb:"text/calendar",xml:"text/xml",json:"application/json",swf:"application/x-shockwave-flash",hlp:"application/winhlp",
wgt:"application/widget",chm:"application/vnd.ms-htmlhelp",p10:"application/pkcs10",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7s:"application/pkcs7-signature",torrent:"application/x-bittorrent",js:"application/javascript",pl:"text/perl",css:"text/css",asp:"text/asp",php:"application/x-httpd-php",php3:"application/x-httpd-php",php4:"application/x-httpd-php",php5:"application/x-httpd-php",phtml:"application/x-httpd-php",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",jpe:"image/jpeg",
jfif:"image/jpeg",gif:"image/gif",bmp:"image/bmp",cgm:"image/cgm",ief:"image/ief",ico:"image/x-icon",tif:"image/tiff",tiff:"image/tiff",svg:"image/svg+xml",svgz:"image/svg+xml",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",webp:"image/webp",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",exe:"application/x-msdownload",dll:"application/x-msdownload",scr:"application/x-msdownload",com:"application/x-msdownload",bat:"application/x-msdownload",msi:"application/x-msdownload",
cab:"application/vnd.ms-cab-compressed",gz:"application/x-gzip",tgz:"application/x-gzip",bz:"application/x-bzip",bz2:"application/x-bzip2",deb:"application/x-debian-package",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf",ttf:"application/x-font-ttf",ttc:"application/x-font-ttf",mp3:"audio/mpeg",amr:"audio/amr",aac:"audio/x-aac",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",wav:"audio/x-wav",wma:"audio/x-ms-wma",
wax:"audio/x-ms-wax",midi:"audio/midi",mp4a:"audio/mp4",ogg:"audio/ogg",weba:"audio/webm",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",m3u:"audio/x-mpegurl",flv:"video/x-flv",qt:"video/quicktime",mov:"video/quicktime",wmv:"video/windows-media",avi:"video/x-msvideo",mpg:"video/mpeg",mpeg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpgv",
mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",ogv:"video/ogg",webm:"video/webm",m4v:"video/x-m4v",asf:"video/x-ms-asf",asx:"video/x-ms-asf",wm:"video/x-ms-wm",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",movie:"video/x-sgi-movie",pdf:"application/pdf",psd:"image/vnd.adobe.photoshop",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",doc:"application/msword",dot:"application/msword",rtf:"application/rtf",xls:"application/vnd.ms-excel",ppt:"application/vnd.ms-powerpoint",
docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",odt:"application/vnd.oasis.opendocument.text",ods:"application/vnd.oasis.opendocument.spreadsheet"}},function(h,f,c){function a(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!==typeof a&&"function"!==typeof a?b:a}function e(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}f.__esModule=!0;f.default=f.AbstracRadio=void 0;var d=c(13),b=(h=c(2))&&h.__esModule?h:{default:h},g=(h=c(1))&&h.__esModule?h:{default:h};
c=function(c){function f(e){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var h=a(this,c.call(this));h.values=b.default.observableArray([]);h.value=e.value;if(g.default.isUnd(h.value)||!h.value.subscribe)h.value=b.default.observable("");h.inline=g.default.isUnd(e.inline)?!1:e.inline;h.readOnly=g.default.isUnd(e.readOnly)?!1:!!e.readOnly;e.values&&h.values(d._.map(e.values,function(b,a){return{label:b,value:a}}));h.click=d._.bind(h.click,h);return h}e(f,c);f.prototype.click=
function(b){!this.readOnly&&b&&this.value(b.value)};return f}(c(16).AbstractComponent);f.AbstracRadio=c;f.default=c},function(h,f,c){function a(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f=c(16);c=function(c){function d(){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");var b=c.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?this:b}a(d,c);return d}(c(37).AbstractInput);h.exports=(0,f.componentExportHelper)(c,"InputComponent")},function(h,f,c){function a(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==
typeof a?b:a}function e(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}var d=c(13),b=(f=c(2))&&f.__esModule?f:{default:f};f=c(16);c=function(c){function l(e){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var f=
a(this,c.call(this,e));f.animationBox=b.default.observable(!1).extend({falseTimeout:200});f.animationCheckmark=b.default.observable(!1).extend({falseTimeout:200});f.animationBoxSetTrue=d._.bind(f.animationBoxSetTrue,f);f.animationCheckmarkSetTrue=d._.bind(f.animationCheckmarkSetTrue,f);f.disposable.push(f.value.subscribe(function(b){f.triggerAnimation(b)},f));return f}e(l,c);l.prototype.animationBoxSetTrue=function(){this.animationBox(!0)};l.prototype.animationCheckmarkSetTrue=function(){this.animationCheckmark(!0)};
l.prototype.triggerAnimation=function(b){b?(this.animationBoxSetTrue(),d._.delay(this.animationCheckmarkSetTrue,200)):(this.animationCheckmarkSetTrue(),d._.delay(this.animationBoxSetTrue,200))};return l}(c(46).AbstracCheckbox);h.exports=(0,f.componentExportHelper)(c,"CheckboxMaterialDesignComponent")},function(h,f,c){function a(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f=c(16);c=function(c){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var b=c.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?this:b}a(d,c);return d}(c(67).AbstracRadio);h.exports=(0,f.componentExportHelper)(c,"RadioComponent")},
function(h,f,c){function a(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}var e=(f=c(1))&&f.__esModule?f:{default:f},d=c(4);c=c(16);f=function(b){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d;
d=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.element=a.element||null;d.value=a.value&&a.value.subscribe?a.value:null;d.element&&(d.value?(d.element.css("display","inline-block"),a.verticalAlign&&d.element.css("vertical-align",a.verticalAlign),d.setState(d.value()),d.disposable.push(d.value.subscribe(d.setState,d))):d.element.hide());return d}a(c,b);c.prototype.setState=function(b){switch(e.default.pInt(b)){case d.SaveSettingsStep.TrueResult:this.element.find(".animated,.error").hide().removeClass("visible").end().find(".success").show().addClass("visible");
break;case d.SaveSettingsStep.FalseResult:this.element.find(".animated,.success").hide().removeClass("visible").end().find(".error").show().addClass("visible");break;case d.SaveSettingsStep.Animate:this.element.find(".error,.success").hide().removeClass("visible").end().find(".animated").show().addClass("visible");break;default:case d.SaveSettingsStep.Idle:this.element.find(".animated").hide().end().find(".error,.success").removeClass("visible")}};return c}(c.AbstractComponent);h.exports=(0,c.componentExportHelper)(f,
"SaveTriggerComponent")},function(h,f,c){function a(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var e=c(13);f=c(16);c=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var l;l=c.call(this);
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");l=!l||"object"!==typeof l&&"function"!==typeof l?this:l;if(a.component&&a.component.templateNodes&&a.element&&a.element[0]&&a.element[0].outerHTML){var f=a.element[0].outerHTML;(f=f?f.replace(/<x-script/i,"<script").replace(/<b><\/b><\/x-script>/i,"\x3c/script>"):"")?(a.element.text(""),a.element.replaceWith((0,e.$)(f).text(a.component.templateNodes[0]&&a.component.templateNodes[0].nodeValue?a.component.templateNodes[0].nodeValue:
""))):a.element.remove()}return l}a(b,c);return b}(f.AbstractComponent);h.exports=(0,f.componentExportHelper)(c,"ScriptComponent")},function(h,f,c){function a(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}var e=(f=c(1))&&f.__esModule?f:{default:f},
d=(f=c(6))&&f.__esModule?f:{default:f};f=c(16);c=function(b){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var f;f=b.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.options=a.options||"";f.optionsText=a.optionsText||null;f.optionsValue=a.optionsValue||null;f.optionsCaption=a.optionsCaption||null;f.optionsCaption&&(f.optionsCaption=d.default.i18n(f.optionsCaption));
f.defautOptionsAfterRender=e.default.defautOptionsAfterRender;return f}a(c,b);return c}(c(37).AbstractInput);h.exports=(0,f.componentExportHelper)(c,"SelectComponent")},function(h,f,c){function a(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}
var e=(f=c(1))&&f.__esModule?f:{default:f};f=c(16);c=function(c){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f;f=c.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.rows=a.rows||5;f.spellcheck=e.default.isUnd(a.spellcheck)?!1:!!a.spellcheck;return f}a(b,c);return b}(c(37).AbstractInput);h.exports=(0,f.componentExportHelper)(c,"TextAreaComponent")},
function(h,f){f.__esModule=!0;var c=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}a.prototype.bootstart=function(){};return a}();f.AbstractBoot=c;f.default=c},function(h,f,c){function a(a){return a&&a.__esModule?a:{default:a}}f.__esModule=!0;f.default=f.AbstractAppStore=void 0;h=c(2);var e=a(h);h=c(8);var d=a(h);c=c(9);var b=a(c);c=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.allowLanguagesOnSettings=
e.default.observable(!0);this.allowLanguagesOnLogin=e.default.observable(!0);this.interfaceAnimation=e.default.observable(!0);this.interfaceAnimation.subscribe(function(a){a=d.default.bMobileDevice||!a;d.default.$html.toggleClass("rl-anim",!a).toggleClass("no-rl-anim",a)});this.interfaceAnimation.valueHasMutated();this.prem=e.default.observable(!1);this.community=e.default.observable(!0)}a.prototype.populate=function(){this.allowLanguagesOnLogin(!!b.default.settingsGet("AllowLanguagesOnLogin"));this.allowLanguagesOnSettings(!!b.default.settingsGet("AllowLanguagesOnSettings"));
this.interfaceAnimation(!!b.default.settingsGet("InterfaceAnimation"));this.prem(!!b.default.settingsGet("PremType"));this.community(!!b.default.settingsGet("Community"))};return a}();f.AbstractAppStore=c;f.default=c},function(h,f,c){f.__esModule=!0;f.default=function(a){var e=c(11),d=c(3),b=c(14),g=c(8),f=c(23),k=c(1),h=c(4),n=c(6),p=c(30);g.__APP__=a;g.$win.keydown(k.kill_CtrlA_CtrlS).unload(function(){g.bUnload=!0});g.$html.addClass(g.bMobileDevice?"mobile":"no-mobile").on("click.dropdown.data-api",
function(){k.detectDropdownVisibility()});e.rl=e.rl||{};e.rl.i18n=d.bind(n.i18n,n);e.rl.addHook=d.bind(f.addHook,f);e.rl.settingsGet=d.bind(f.mainSettingsGet,f);e.rl.createCommand=k.createCommand;e.rl.addSettingsViewModel=d.bind(f.addSettingsViewModel,f);e.rl.pluginRemoteRequest=d.bind(f.remoteRequest,f);e.rl.pluginSettingsGet=d.bind(f.settingsGet,f);e.rl.EmailModel=p;e.rl.Enums=h;e.__APP_BOOT=function(c){b(d.delay(function(){b("#rl-check").is(":visible")||g.$html.addClass("no-css");b("#rl-check").remove();
e.rainloopTEMPLATES&&e.rainloopTEMPLATES[0]?(b("#rl-templates").html(e.rainloopTEMPLATES[0]),d.delay(function(){a.bootstart();g.$html.removeClass("no-js rl-booted-trigger").addClass("rl-booted")},10)):c(!1);e.__APP_BOOT=null},10))}}},function(h,f){h.exports=window.Autolinker},function(h,f){h.exports=window.JSEncrypt},,function(h,f){h.exports=window.hasher},function(h,f){h.exports=window.moment},function(h,f){h.exports=window.rainloopProgressJs},function(h,f){h.exports=window.ssm},,,,,function(h,f,
c){(function(){var a=c(2);h.exports=new function(){this.coreReal=a.observable(!0);this.coreChannel=a.observable("stable");this.coreType=a.observable("stable");this.coreUpdatable=a.observable(!0);this.coreAccess=a.observable(!0);this.coreWarning=a.observable(!1);this.coreChecking=a.observable(!1).extend({throttle:100});this.coreUpdating=a.observable(!1).extend({throttle:100});this.coreVersion=a.observable("");this.coreRemoteVersion=a.observable("");this.coreRemoteRelease=a.observable("");this.coreVersionCompare=
a.observable(-2)}})()},,,,function(h,f,c){(function(){function a(){q.call(this,"Popups","PopupsDomain");this.edit=d.observable(!1);this.saving=d.observable(!1);this.savingError=d.observable("");this.page=d.observable("main");this.sieveSettings=d.observable(!1);this.testing=d.observable(!1);this.testingDone=d.observable(!1);this.testingImapError=d.observable(!1);this.testingSieveError=d.observable(!1);this.testingSmtpError=d.observable(!1);this.testingImapErrorDesc=d.observable("");this.testingSieveErrorDesc=
d.observable("");this.testingSmtpErrorDesc=d.observable("");this.testingImapError.subscribe(function(a){a||this.testingImapErrorDesc("")},this);this.testingSieveError.subscribe(function(a){a||this.testingSieveErrorDesc("")},this);this.testingSmtpError.subscribe(function(a){a||this.testingSmtpErrorDesc("")},this);this.imapServerFocus=d.observable(!1);this.sieveServerFocus=d.observable(!1);this.smtpServerFocus=d.observable(!1);this.name=d.observable("");this.name.focused=d.observable(!1);this.imapServer=
d.observable("");this.imapPort=d.observable(""+g.IMAP_DEFAULT_PORT);this.imapSecure=d.observable(b.ServerSecure.None);this.imapShortLogin=d.observable(!1);this.useSieve=d.observable(!1);this.sieveAllowRaw=d.observable(!1);this.sieveServer=d.observable("");this.sievePort=d.observable(""+g.SIEVE_DEFAULT_PORT);this.sieveSecure=d.observable(b.ServerSecure.None);this.smtpServer=d.observable("");this.smtpPort=d.observable(""+g.SMTP_DEFAULT_PORT);this.smtpSecure=d.observable(b.ServerSecure.None);this.smtpShortLogin=
d.observable(!1);this.smtpAuth=d.observable(!0);this.smtpPhpMail=d.observable(!1);this.whiteList=d.observable("");this.enableSmartPorts=d.observable(!1);this.allowSieve=d.computed(function(){return n.filters()&&n.sieve()},this);this.headerText=d.computed(function(){var a=this.name();return this.edit()?m.i18n("POPUPS_DOMAIN/TITLE_EDIT_DOMAIN",{NAME:a}):""===a?m.i18n("POPUPS_DOMAIN/TITLE_ADD_DOMAIN"):m.i18n("POPUPS_DOMAIN/TITLE_ADD_DOMAIN_WITH_NAME",{NAME:a})},this);this.domainDesc=d.computed(function(){var a=
this.name();return!this.edit()&&a?m.i18n("POPUPS_DOMAIN/NEW_DOMAIN_DESC",{NAME:"*@"+a}):""},this);this.domainIsComputed=d.computed(function(){var a=this.smtpPhpMail(),b=this.allowSieve(),c=this.useSieve();return""!==this.name()&&""!==this.imapServer()&&""!==this.imapPort()&&(b&&c?""!==this.sieveServer()&&""!==this.sievePort():!0)&&(""!==this.smtpServer()&&""!==this.smtpPort()||a)},this);this.canBeTested=d.computed(function(){return!this.testing()&&this.domainIsComputed()},this);this.canBeSaved=d.computed(function(){return!this.saving()&&
this.domainIsComputed()},this);this.createOrAddCommand=k.createCommand(this,function(){this.saving(!0);p.createOrUpdateDomain(e.bind(this.onDomainCreateOrSaveResponse,this),!this.edit(),this.name(),this.imapServer(),k.pInt(this.imapPort()),this.imapSecure(),this.imapShortLogin(),this.useSieve(),this.sieveAllowRaw(),this.sieveServer(),k.pInt(this.sievePort()),this.sieveSecure(),this.smtpServer(),k.pInt(this.smtpPort()),this.smtpSecure(),this.smtpShortLogin(),this.smtpAuth(),this.smtpPhpMail(),this.whiteList())},
this.canBeSaved);this.testConnectionCommand=k.createCommand(this,function(){this.page("main");this.testingDone(!1);this.testingImapError(!1);this.testingSieveError(!1);this.testingSmtpError(!1);this.testing(!0);p.testConnectionForDomain(e.bind(this.onTestConnectionResponse,this),this.name(),this.imapServer(),k.pInt(this.imapPort()),this.imapSecure(),this.useSieve(),this.sieveServer(),k.pInt(this.sievePort()),this.sieveSecure(),this.smtpServer(),k.pInt(this.smtpPort()),this.smtpSecure(),this.smtpAuth(),
this.smtpPhpMail())},this.canBeTested);this.whiteListCommand=k.createCommand(this,function(){this.page("white-list")});this.backCommand=k.createCommand(this,function(){this.page("main")});this.sieveCommand=k.createCommand(this,function(){this.sieveSettings(!this.sieveSettings());this.clearTesting()});this.page.subscribe(function(){this.sieveSettings(!1)},this);this.imapServerFocus.subscribe(function(a){a&&""!==this.name()&&""===this.imapServer()&&this.imapServer(this.name().replace(/[.]?[*][.]?/g,
""))},this);this.sieveServerFocus.subscribe(function(a){a&&""!==this.imapServer()&&""===this.sieveServer()&&this.sieveServer(this.imapServer())},this);this.smtpServerFocus.subscribe(function(a){a&&""!==this.imapServer()&&""===this.smtpServer()&&this.smtpServer(this.imapServer().replace(/imap/ig,"smtp"))},this);this.imapSecure.subscribe(function(a){if(this.enableSmartPorts()){var b=k.pInt(this.imapPort());a=k.pString(a);switch(a){case "0":993===b&&this.imapPort("143");break;case "1":143===b&&this.imapPort("993")}}},
this);this.smtpSecure.subscribe(function(a){if(this.enableSmartPorts()){var b=k.pInt(this.smtpPort());a=k.pString(a);switch(a){case "0":465!==b&&587!==b||this.smtpPort("25");break;case "1":25!==b&&587!==b||this.smtpPort("465");break;case "2":25!==b&&465!==b||this.smtpPort("587")}}},this);r.constructorEnd(this)}var e=c(3),d=c(2),b=c(4),g=c(17),f=c(8),k=c(1),m=c(6),n=c(50),p=c(20),r=c(5),q=c(10);r.extendAsViewModel(["View/Popup/Domain","PopupsDomainViewModel"],a);e.extend(a.prototype,q.prototype);a.prototype.onTestConnectionResponse=
function(a,c){this.testing(!1);if(b.StorageResultType.Success===a&&c.Result){var d=!1,e=!1;this.testingDone(!0);this.testingImapError(!0!==c.Result.Imap);this.testingSieveError(!0!==c.Result.Sieve);this.testingSmtpError(!0!==c.Result.Smtp);this.testingImapError()&&c.Result.Imap&&(d=!0,this.testingImapErrorDesc(""),this.testingImapErrorDesc(c.Result.Imap));this.testingSieveError()&&c.Result.Sieve&&(e=!0,this.testingSieveErrorDesc(""),this.testingSieveErrorDesc(c.Result.Sieve));this.testingSmtpError()&&
c.Result.Smtp&&(this.testingSmtpErrorDesc(""),this.testingSmtpErrorDesc(c.Result.Smtp));this.sieveSettings()?!e&&d&&this.sieveSettings(!1):e&&!d&&this.sieveSettings(!0)}else this.testingImapError(!0),this.testingSieveError(!0),this.testingSmtpError(!0),this.sieveSettings(!1)};a.prototype.onDomainCreateOrSaveResponse=function(a,d){this.saving(!1);b.StorageResultType.Success===a&&d?d.Result?(c(22).default.reloadDomainList(),this.closeCommand()):b.Notification.DomainAlreadyExists===d.ErrorCode&&this.savingError(m.i18n("ERRORS/DOMAIN_ALREADY_EXISTS")):
this.savingError(m.i18n("ERRORS/UNKNOWN_ERROR"))};a.prototype.clearTesting=function(){this.testing(!1);this.testingDone(!1);this.testingImapError(!1);this.testingSieveError(!1);this.testingSmtpError(!1)};a.prototype.onHide=function(){this.page("main");this.sieveSettings(!1)};a.prototype.onShow=function(a){this.saving(!1);this.page("main");this.sieveSettings(!1);this.clearTesting();this.clearForm();a&&(this.enableSmartPorts(!1),this.edit(!0),this.name(k.trim(a.Name)),this.imapServer(k.trim(a.IncHost)),
this.imapPort(""+k.pInt(a.IncPort)),this.imapSecure(k.trim(a.IncSecure)),this.imapShortLogin(!!a.IncShortLogin),this.useSieve(!!a.UseSieve),this.sieveAllowRaw(!!a.SieveAllowRaw),this.sieveServer(k.trim(a.SieveHost)),this.sievePort(""+k.pInt(a.SievePort)),this.sieveSecure(k.trim(a.SieveSecure)),this.smtpServer(k.trim(a.OutHost)),this.smtpPort(""+k.pInt(a.OutPort)),this.smtpSecure(k.trim(a.OutSecure)),this.smtpShortLogin(!!a.OutShortLogin),this.smtpAuth(!!a.OutAuth),this.smtpPhpMail(!!a.OutUsePhpMail),
this.whiteList(k.trim(a.WhiteList)),this.enableSmartPorts(!0))};a.prototype.onShowWithDelay=function(){""!==this.name()||f.bMobile||this.name.focused(!0)};a.prototype.clearForm=function(){this.edit(!1);this.page("main");this.sieveSettings(!1);this.enableSmartPorts(!1);this.savingError("");this.name("");this.name.focused(!1);this.imapServer("");this.imapPort(""+g.IMAP_DEFAULT_PORT);this.imapSecure(b.ServerSecure.None);this.imapShortLogin(!1);this.useSieve(!1);this.sieveAllowRaw(!1);this.sieveServer("");
this.sievePort(""+g.SIEVE_DEFAULT_PORT);this.sieveSecure(b.ServerSecure.None);this.smtpServer("");this.smtpPort(""+g.SMTP_DEFAULT_PORT);this.smtpSecure(b.ServerSecure.None);this.smtpShortLogin(!1);this.smtpAuth(!0);this.smtpPhpMail(!1);this.whiteList("");this.enableSmartPorts(!0)};h.exports=a})()},,,,,,,,,,,,,,,,,,,,function(h,f,c){(function(){function a(){d.call(this,"login",[c(140)])}var e=c(3),d=c(39);e.extend(a.prototype,d.prototype);a.prototype.onShow=function(){c(22).default.setWindowTitle("")};
h.exports=a})()},function(h,f,c){(function(){function a(){g.call(this,[c(141),c(142)])}var e=c(3),d=c(5),b=c(23),g=c(56);e.extend(a.prototype,g.prototype);a.prototype.setupSettings=function(a){d.addSettingsViewModel(c(122),"AdminSettingsGeneral","TABS_LABELS/LABEL_GENERAL_NAME","general",!0);d.addSettingsViewModel(c(123),"AdminSettingsLogin","TABS_LABELS/LABEL_LOGIN_NAME","login");d.addSettingsViewModel(c(119),"AdminSettingsBranding","TABS_LABELS/LABEL_BRANDING_NAME","branding");d.addSettingsViewModel(c(120),
"AdminSettingsContacts","TABS_LABELS/LABEL_CONTACTS_NAME","contacts");d.addSettingsViewModel(c(126),"AdminSettingsSecurity","TABS_LABELS/LABEL_SECURITY_NAME","security");d.addSettingsViewModel(c(125),"AdminSettingsPlugins","TABS_LABELS/LABEL_PLUGINS_NAME","plugins");d.addSettingsViewModel(c(118),"AdminSettingsAbout","TABS_LABELS/LABEL_ABOUT_NAME","about");b.runSettingsViewModelHooks(!0);a&&a()};a.prototype.onShow=function(){c(22).default.setWindowTitle("")};h.exports=a})()},,,,function(h,f,c){(function(){function a(){this.version=
e.observable(b.appSettingsGet("version"));this.access=e.observable(!!b.settingsGet("CoreAccess"));this.errorDesc=e.observable("");this.coreReal=g.coreReal;this.coreChannel=g.coreChannel;this.coreType=g.coreType;this.coreUpdatable=g.coreUpdatable;this.coreAccess=g.coreAccess;this.coreChecking=g.coreChecking;this.coreUpdating=g.coreUpdating;this.coreWarning=g.coreWarning;this.coreVersion=g.coreVersion;this.coreRemoteVersion=g.coreRemoteVersion;this.coreRemoteRelease=g.coreRemoteRelease;this.coreVersionCompare=
g.coreVersionCompare;this.community=!0;this.coreRemoteVersionHtmlDesc=e.computed(function(){d.trigger();return d.i18n("TAB_ABOUT/HTML_NEW_VERSION",{VERSION:this.coreRemoteVersion()})},this);this.statusType=e.computed(function(){var a="",b=this.coreVersionCompare(),c=this.coreChecking(),d=this.coreUpdating(),e=this.coreReal();c?a="checking":d?a="updating":e&&0===b?a="up-to-date":e&&-1===b?a="available":e||(a="error",this.errorDesc("Cannot access the repository at the moment."));return a},this)}var e=
c(2),d=c(6),b=c(9),g=c(89);c(35);a.prototype.onBuild=function(){this.access()&&!this.community&&c(22).default.reloadCoreData()};a.prototype.updateCoreData=function(){this.coreUpdating()||this.community||c(22).default.updateCoreData()};h.exports=a})()},function(h,f,c){(function(){function a(){var a=c(4),b=c(9);this.capa=c(35).prem;this.title=d.observable(b.settingsGet("Title"));this.title.trigger=d.observable(a.SaveSettingsStep.Idle);this.loadingDesc=d.observable(b.settingsGet("LoadingDescription"));
this.loadingDesc.trigger=d.observable(a.SaveSettingsStep.Idle);this.faviconUrl=d.observable(b.settingsGet("FaviconUrl"));this.faviconUrl.trigger=d.observable(a.SaveSettingsStep.Idle);this.loginLogo=d.observable(b.settingsGet("LoginLogo")||"");this.loginLogo.trigger=d.observable(a.SaveSettingsStep.Idle);this.loginBackground=d.observable(b.settingsGet("LoginBackground")||"");this.loginBackground.trigger=d.observable(a.SaveSettingsStep.Idle);this.userLogo=d.observable(b.settingsGet("UserLogo")||"");
this.userLogo.trigger=d.observable(a.SaveSettingsStep.Idle);this.userLogoMessage=d.observable(b.settingsGet("UserLogoMessage")||"");this.userLogoMessage.trigger=d.observable(a.SaveSettingsStep.Idle);this.userIframeMessage=d.observable(b.settingsGet("UserIframeMessage")||"");this.userIframeMessage.trigger=d.observable(a.SaveSettingsStep.Idle);this.userLogoTitle=d.observable(b.settingsGet("UserLogoTitle")||"");this.userLogoTitle.trigger=d.observable(a.SaveSettingsStep.Idle);this.loginDescription=d.observable(b.settingsGet("LoginDescription"));
this.loginDescription.trigger=d.observable(a.SaveSettingsStep.Idle);this.loginCss=d.observable(b.settingsGet("LoginCss"));this.loginCss.trigger=d.observable(a.SaveSettingsStep.Idle);this.userCss=d.observable(b.settingsGet("UserCss"));this.userCss.trigger=d.observable(a.SaveSettingsStep.Idle);this.welcomePageUrl=d.observable(b.settingsGet("WelcomePageUrl"));this.welcomePageUrl.trigger=d.observable(a.SaveSettingsStep.Idle);this.welcomePageDisplay=d.observable(b.settingsGet("WelcomePageDisplay"));this.welcomePageDisplay.trigger=
d.observable(a.SaveSettingsStep.Idle);this.welcomePageDisplay.options=d.computed(function(){g.trigger();return[{optValue:"none",optText:g.i18n("TAB_BRANDING/OPTION_WELCOME_PAGE_DISPLAY_NONE")},{optValue:"once",optText:g.i18n("TAB_BRANDING/OPTION_WELCOME_PAGE_DISPLAY_ONCE")},{optValue:"always",optText:g.i18n("TAB_BRANDING/OPTION_WELCOME_PAGE_DISPLAY_ALWAYS")}]});this.loginPowered=d.observable(!!b.settingsGet("LoginPowered"));this.community=!0}var e=c(3),d=c(2),b=c(1),g=c(6);a.prototype.onBuild=function(){var a=
this,d=c(20);e.delay(function(){var c=b.settingsSaveHelperSimpleFunction(a.title.trigger,a),e=b.settingsSaveHelperSimpleFunction(a.loadingDesc.trigger,a),g=b.settingsSaveHelperSimpleFunction(a.faviconUrl.trigger,a);a.title.subscribe(function(a){d.saveAdminConfig(c,{Title:b.trim(a)})});a.loadingDesc.subscribe(function(a){d.saveAdminConfig(e,{LoadingDescription:b.trim(a)})});a.faviconUrl.subscribe(function(a){d.saveAdminConfig(g,{FaviconUrl:b.trim(a)})})},50)};h.exports=a})()},function(h,f,c){(function(){function a(){var a=
c(20);this.defautOptionsAfterRender=g.defautOptionsAfterRender;this.enableContacts=d.observable(!!k.settingsGet("ContactsEnable"));this.contactsSharing=d.observable(!!k.settingsGet("ContactsSharing"));this.contactsSync=d.observable(!!k.settingsGet("ContactsSync"));var h=[];k.settingsGet("SQLiteIsSupported")&&h.push("sqlite");k.settingsGet("MySqlIsSupported")&&h.push("mysql");k.settingsGet("PostgreSqlIsSupported")&&h.push("pgsql");this.contactsSupported=0<h.length;this.contactsTypes=d.observableArray([]);
this.contactsTypesOptions=this.contactsTypes.map(function(a){var b=-1===g.inArray(a,h),c=a;switch(c){case "sqlite":c="SQLite";break;case "mysql":c="MySQL";break;case "pgsql":c="PostgreSQL"}return{id:a,name:c+(b?" ("+f.i18n("HINTS/NOT_SUPPORTED")+")":""),disabled:b}});this.contactsTypes(["sqlite","mysql","pgsql"]);this.contactsType=d.observable("");this.mainContactsType=d.computed({owner:this,read:this.contactsType,write:function(a){a!==this.contactsType()?-1<g.inArray(a,h)?this.contactsType(a):0<
h.length&&this.contactsType(""):this.contactsType.valueHasMutated()}}).extend({notify:"always"});this.contactsType.subscribe(function(){this.testContactsSuccess(!1);this.testContactsError(!1);this.testContactsErrorMessage("")},this);this.pdoDsn=d.observable(k.settingsGet("ContactsPdoDsn"));this.pdoUser=d.observable(k.settingsGet("ContactsPdoUser"));this.pdoPassword=d.observable(k.settingsGet("ContactsPdoPassword"));this.pdoDsnTrigger=d.observable(b.SaveSettingsStep.Idle);this.pdoUserTrigger=d.observable(b.SaveSettingsStep.Idle);
this.pdoPasswordTrigger=d.observable(b.SaveSettingsStep.Idle);this.contactsTypeTrigger=d.observable(b.SaveSettingsStep.Idle);this.testing=d.observable(!1);this.testContactsSuccess=d.observable(!1);this.testContactsError=d.observable(!1);this.testContactsErrorMessage=d.observable("");this.testContactsCommand=g.createCommand(this,function(){this.testContactsSuccess(!1);this.testContactsError(!1);this.testContactsErrorMessage("");this.testing(!0);a.testContacts(this.onTestContactsResponse,{ContactsPdoType:this.contactsType(),
ContactsPdoDsn:this.pdoDsn(),ContactsPdoUser:this.pdoUser(),ContactsPdoPassword:this.pdoPassword()})},function(){return""!==this.pdoDsn()&&""!==this.pdoUser()});this.contactsType(k.settingsGet("ContactsPdoType"));this.onTestContactsResponse=e.bind(this.onTestContactsResponse,this)}var e=c(3),d=c(2),b=c(4),g=c(1),f=c(6),k=c(9);a.prototype.onTestContactsResponse=function(a,c){this.testContactsSuccess(!1);this.testContactsError(!1);this.testContactsErrorMessage("");b.StorageResultType.Success===a&&c&&
c.Result&&c.Result.Result?this.testContactsSuccess(!0):(this.testContactsError(!0),c&&c.Result?this.testContactsErrorMessage(c.Result.Message||""):this.testContactsErrorMessage(""));this.testing(!1)};a.prototype.onShow=function(){this.testContactsSuccess(!1);this.testContactsError(!1);this.testContactsErrorMessage("")};a.prototype.onBuild=function(){var a=this,b=c(20);e.delay(function(){var c=g.settingsSaveHelperSimpleFunction(a.pdoDsnTrigger,a),d=g.settingsSaveHelperSimpleFunction(a.pdoUserTrigger,
a),e=g.settingsSaveHelperSimpleFunction(a.pdoPasswordTrigger,a),f=g.settingsSaveHelperSimpleFunction(a.contactsTypeTrigger,a);a.enableContacts.subscribe(function(a){b.saveAdminConfig(null,{ContactsEnable:a?"1":"0"})});a.contactsSharing.subscribe(function(a){b.saveAdminConfig(null,{ContactsSharing:a?"1":"0"})});a.contactsSync.subscribe(function(a){b.saveAdminConfig(null,{ContactsSync:a?"1":"0"})});a.contactsType.subscribe(function(a){b.saveAdminConfig(f,{ContactsPdoType:a})});a.pdoDsn.subscribe(function(a){b.saveAdminConfig(c,
{ContactsPdoDsn:g.trim(a)})});a.pdoUser.subscribe(function(a){b.saveAdminConfig(d,{ContactsPdoUser:g.trim(a)})});a.pdoPassword.subscribe(function(a){b.saveAdminConfig(e,{ContactsPdoPassword:g.trim(a)})});a.contactsType(k.settingsGet("ContactsPdoType"))},50)};h.exports=a})()},function(h,f,c){(function(){function a(){this.domains=g.domains;this.visibility=d.computed(function(){return this.domains.loading()?"visible":"hidden"},this);this.domainForDeletion=d.observable(null).deleteAccessHelper()}var e=
c(3),d=c(2),b=c(4),g=c(57),f=c(20);a.prototype.createDomain=function(){c(5).showScreenPopup(c(93))};a.prototype.deleteDomain=function(a){this.domains.remove(a);f.domainDelete(e.bind(this.onDomainListChangeRequest,this),a.name)};a.prototype.disableDomain=function(a){a.disabled(!a.disabled());f.domainDisable(e.bind(this.onDomainListChangeRequest,this),a.name,a.disabled())};a.prototype.onBuild=function(a){var b=this;a.on("click",".b-admin-domains-list-table .e-item .e-action",function(){var a=d.dataFor(this);
a&&f.domain(e.bind(b.onDomainLoadRequest,b),a.name)});c(22).default.reloadDomainList()};a.prototype.onDomainLoadRequest=function(a,d){b.StorageResultType.Success===a&&d&&d.Result&&c(5).showScreenPopup(c(93),[d.Result])};a.prototype.onDomainListChangeRequest=function(){c(22).default.reloadDomainList()};h.exports=a})()},function(h,f,c){(function(){function a(){this.language=n.language;this.languages=n.languages;this.languageAdmin=n.languageAdmin;this.languagesAdmin=n.languagesAdmin;this.theme=m.theme;
this.themes=m.themes;this.capaThemes=r.themes;this.capaUserBackground=r.userBackground;this.capaGravatar=r.gravatar;this.capaAdditionalAccounts=r.additionalAccounts;this.capaIdentities=r.identities;this.capaAttachmentThumbnails=r.attachmentThumbnails;this.capaTemplates=r.templates;this.allowLanguagesOnSettings=p.allowLanguagesOnSettings;this.weakPassword=p.weakPassword;this.mainAttachmentLimit=d.observable(g.pInt(q.settingsGet("AttachmentLimit"))/1048576).extend({posInterer:25});this.uploadDataDesc=
(this.uploadData=q.settingsGet("PhpUploadSizes"))&&(this.uploadData.upload_max_filesize||this.uploadData.post_max_size)?[this.uploadData.upload_max_filesize?"upload_max_filesize = "+this.uploadData.upload_max_filesize+"; ":"",this.uploadData.post_max_size?"post_max_size = "+this.uploadData.post_max_size:""].join(""):"";this.themesOptions=d.computed(function(){return e.map(this.themes(),function(a){return{optValue:a,optText:g.convertThemeName(a)}})},this);this.languageFullName=d.computed(function(){return g.convertLangName(this.language())},
this);this.languageAdminFullName=d.computed(function(){return g.convertLangName(this.languageAdmin())},this);this.attachmentLimitTrigger=d.observable(b.SaveSettingsStep.Idle);this.languageTrigger=d.observable(b.SaveSettingsStep.Idle);this.languageAdminTrigger=d.observable(b.SaveSettingsStep.Idle).extend({throttle:100});this.themeTrigger=d.observable(b.SaveSettingsStep.Idle)}var e=c(3),d=c(2),b=c(4),g=c(1),f=c(12),k=c(6),m=c(42),n=c(40),p=c(35),r=c(50),q=c(9);a.prototype.onBuild=function(){var a=this,
d=c(20);e.delay(function(){var c=g.settingsSaveHelperSimpleFunction(a.attachmentLimitTrigger,a),f=g.settingsSaveHelperSimpleFunction(a.languageTrigger,a),l=g.settingsSaveHelperSimpleFunction(a.themeTrigger,a),h=function(c){return function(){a.languageAdminTrigger(c);e.delay(function(){a.languageAdminTrigger(b.SaveSettingsStep.Idle)},1E3)}};a.mainAttachmentLimit.subscribe(function(a){d.saveAdminConfig(c,{AttachmentLimit:g.pInt(a)})});a.language.subscribe(function(a){d.saveAdminConfig(f,{Language:g.trim(a)})});
a.languageAdmin.subscribe(function(c){a.languageAdminTrigger(b.SaveSettingsStep.Animate);k.reload(!0,c,h(b.SaveSettingsStep.TrueResult),h(b.SaveSettingsStep.FalseResult));d.saveAdminConfig(null,{LanguageAdmin:g.trim(c)})});a.theme.subscribe(function(b){g.changeTheme(b,a.themeTrigger);d.saveAdminConfig(l,{Theme:g.trim(b)})});a.capaAdditionalAccounts.subscribe(function(a){d.saveAdminConfig(null,{CapaAdditionalAccounts:a?"1":"0"})});a.capaIdentities.subscribe(function(a){d.saveAdminConfig(null,{CapaIdentities:a?
"1":"0"})});a.capaTemplates.subscribe(function(a){d.saveAdminConfig(null,{CapaTemplates:a?"1":"0"})});a.capaGravatar.subscribe(function(a){d.saveAdminConfig(null,{CapaGravatar:a?"1":"0"})});a.capaAttachmentThumbnails.subscribe(function(a){d.saveAdminConfig(null,{CapaAttachmentThumbnails:a?"1":"0"})});a.capaThemes.subscribe(function(a){d.saveAdminConfig(null,{CapaThemes:a?"1":"0"})});a.capaUserBackground.subscribe(function(a){d.saveAdminConfig(null,{CapaUserBackground:a?"1":"0"})});a.allowLanguagesOnSettings.subscribe(function(a){d.saveAdminConfig(null,
{AllowLanguagesOnSettings:a?"1":"0"})})},50)};a.prototype.selectLanguage=function(){c(5).showScreenPopup(c(44),[this.language,this.languages(),n.userLanguage()])};a.prototype.selectLanguageAdmin=function(){c(5).showScreenPopup(c(44),[this.languageAdmin,this.languagesAdmin(),n.userLanguageAdmin()])};a.prototype.phpInfoLink=function(){return f.phpInfo()};h.exports=a})()},function(h,f,c){(function(){function a(){this.determineUserLanguage=f.determineUserLanguage;this.determineUserDomain=f.determineUserDomain;
this.defaultDomain=d.observable(k.settingsGet("LoginDefaultDomain"));this.allowLanguagesOnLogin=f.allowLanguagesOnLogin;this.defaultDomainTrigger=d.observable(b.SaveSettingsStep.Idle);this.dummy=d.observable(!1)}var e=c(3),d=c(2),b=c(4),g=c(1),f=c(35),k=c(9);a.prototype.onBuild=function(){var a=this,b=c(20);e.delay(function(){var c=g.settingsSaveHelperSimpleFunction(a.defaultDomainTrigger,a);a.determineUserLanguage.subscribe(function(a){b.saveAdminConfig(null,{DetermineUserLanguage:a?"1":"0"})});
a.determineUserDomain.subscribe(function(a){b.saveAdminConfig(null,{DetermineUserDomain:a?"1":"0"})});a.allowLanguagesOnLogin.subscribe(function(a){b.saveAdminConfig(null,{AllowLanguagesOnLogin:a?"1":"0"})});a.defaultDomain.subscribe(function(a){b.saveAdminConfig(c,{LoginDefaultDomain:g.trim(a)})})},50)};h.exports=a})()},function(h,f,c){(function(){function a(){this.packagesError=b.observable("");this.packages=k.packages;this.packagesReal=k.packagesReal;this.packagesMainUpdatable=k.packagesMainUpdatable;
this.packagesCurrent=this.packages.filter(function(a){return a&&""!==a.installed&&!a.compare});this.packagesAvailableForUpdate=this.packages.filter(function(a){return a&&""!==a.installed&&!!a.compare});this.packagesAvailableForInstallation=this.packages.filter(function(a){return a&&""===a.installed});this.visibility=b.computed(function(){return k.packages.loading()?"visible":"hidden"},this)}var e=c(11),d=c(3),b=c(2),g=c(4),f=c(6),k=c(58),m=c(20);a.prototype.onShow=function(){this.packagesError("")};
a.prototype.onBuild=function(){c(22).default.reloadPackagesList()};a.prototype.requestHelper=function(a,b){var h=this;return function(k,m){g.StorageResultType.Success===k&&m&&m.Result||(m&&m.ErrorCode?h.packagesError(f.getNotification(m.ErrorCode)):h.packagesError(f.getNotification(b?g.Notification.CantInstallPackage:g.Notification.CantDeletePackage)));d.each(h.packages(),function(b){b&&a&&b.loading()&&a.file===b.file&&(a.loading(!1),b.loading(!1))});g.StorageResultType.Success===k&&m&&m.Result&&
m.Result.Reload?e.location.reload():c(22).default.reloadPackagesList()}};a.prototype.deletePackage=function(a){a&&(a.loading(!0),m.packageDelete(this.requestHelper(a,!1),a))};a.prototype.installPackage=function(a){a&&(a.loading(!0),m.packageInstall(this.requestHelper(a,!0),a))};h.exports=a})()},function(h,f,c){(function(){function a(){this.enabledPlugins=d.observable(!!k.settingsGet("EnabledPlugins"));this.plugins=m.plugins;this.pluginsError=m.plugins.error;this.community=!0;this.visibility=d.computed(function(){return m.plugins.loading()?
"visible":"hidden"},this);this.onPluginLoadRequest=e.bind(this.onPluginLoadRequest,this);this.onPluginDisableRequest=e.bind(this.onPluginDisableRequest,this)}var e=c(3),d=c(2),b=c(4),g=c(1),f=c(6),k=c(9);c(35);var m=c(59),n=c(20);a.prototype.disablePlugin=function(a){a.disabled(!a.disabled());n.pluginDisable(this.onPluginDisableRequest,a.name,a.disabled())};a.prototype.configurePlugin=function(a){n.plugin(this.onPluginLoadRequest,a.name)};a.prototype.onBuild=function(a){var b=this;a.on("click",".e-item .configure-plugin-action",
function(){var a=d.dataFor(this);a&&b.configurePlugin(a)}).on("click",".e-item .disabled-plugin",function(){var a=d.dataFor(this);a&&b.disablePlugin(a)});this.enabledPlugins.subscribe(function(a){n.saveAdminConfig(g.emptyFunction,{EnabledPlugins:a?"1":"0"})})};a.prototype.onShow=function(){m.plugins.error("");c(22).default.reloadPluginList()};a.prototype.onPluginLoadRequest=function(a,d){b.StorageResultType.Success===a&&d&&d.Result&&c(5).showScreenPopup(c(149),[d.Result])};a.prototype.onPluginDisableRequest=
function(a,d){b.StorageResultType.Success===a&&d&&!d.Result&&d.ErrorCode&&(b.Notification.UnsupportedPluginPackage===d.ErrorCode&&d.ErrorMessage&&""!==d.ErrorMessage?m.plugins.error(d.ErrorMessage):m.plugins.error(f.getNotification(d.ErrorCode)));c(22).default.reloadPluginList()};h.exports=a})()},function(h,f,c){(function(){function a(){this.useLocalProxyForExternalImages=k.useLocalProxyForExternalImages;this.weakPassword=k.weakPassword;this.capaOpenPGP=m.openPGP;this.capaTwoFactorAuth=m.twoFactorAuth;
this.capaTwoFactorAuthForce=m.twoFactorAuthForce;this.capaTwoFactorAuth.subscribe(function(a){a||this.capaTwoFactorAuthForce(!1)},this);this.verifySslCertificate=d.observable(!!n.settingsGet("VerifySslCertificate"));this.allowSelfSigned=d.observable(!!n.settingsGet("AllowSelfSigned"));this.verifySslCertificate.subscribe(function(a){a||this.allowSelfSigned(!0)},this);this.adminLogin=d.observable(n.settingsGet("AdminLogin"));this.adminLoginError=d.observable(!1);this.adminPassword=d.observable("");
this.adminPasswordNew=d.observable("");this.adminPasswordNew2=d.observable("");this.adminPasswordNewError=d.observable(!1);this.adminPasswordUpdateError=d.observable(!1);this.adminPasswordUpdateSuccess=d.observable(!1);this.adminPassword.subscribe(function(){this.adminPasswordUpdateError(!1);this.adminPasswordUpdateSuccess(!1)},this);this.adminLogin.subscribe(function(){this.adminLoginError(!1)},this);this.adminPasswordNew.subscribe(function(){this.adminPasswordUpdateError(!1);this.adminPasswordUpdateSuccess(!1);
this.adminPasswordNewError(!1)},this);this.adminPasswordNew2.subscribe(function(){this.adminPasswordUpdateError(!1);this.adminPasswordUpdateSuccess(!1);this.adminPasswordNewError(!1)},this);this.saveNewAdminPasswordCommand=g.createCommand(this,function(){if(""===g.trim(this.adminLogin()))return this.adminLoginError(!0),!1;if(this.adminPasswordNew()!==this.adminPasswordNew2())return this.adminPasswordNewError(!0),!1;this.adminPasswordUpdateError(!1);this.adminPasswordUpdateSuccess(!1);p.saveNewAdminPassword(this.onNewAdminPasswordResponse,
{Login:this.adminLogin(),Password:this.adminPassword(),NewPassword:this.adminPasswordNew()})},function(){return""!==g.trim(this.adminLogin())&&""!==this.adminPassword()});this.onNewAdminPasswordResponse=e.bind(this.onNewAdminPasswordResponse,this)}var e=c(3),d=c(2),b=c(4),g=c(1),f=c(12),k=c(35),m=c(50),n=c(9),p=c(20);a.prototype.onNewAdminPasswordResponse=function(a,c){b.StorageResultType.Success===a&&c&&c.Result?(this.adminPassword(""),this.adminPasswordNew(""),this.adminPasswordNew2(""),this.adminPasswordUpdateSuccess(!0),
this.weakPassword(!!c.Result.Weak)):this.adminPasswordUpdateError(!0)};a.prototype.onBuild=function(){this.capaOpenPGP.subscribe(function(a){p.saveAdminConfig(g.emptyFunction,{CapaOpenPGP:a?"1":"0"})});this.capaTwoFactorAuth.subscribe(function(a){p.saveAdminConfig(g.emptyFunction,{CapaTwoFactorAuth:a?"1":"0"})});this.capaTwoFactorAuthForce.subscribe(function(a){p.saveAdminConfig(g.emptyFunction,{CapaTwoFactorAuthForce:a?"1":"0"})});this.useLocalProxyForExternalImages.subscribe(function(a){p.saveAdminConfig(null,
{UseLocalProxyForExternalImages:a?"1":"0"})});this.verifySslCertificate.subscribe(function(a){p.saveAdminConfig(null,{VerifySslCertificate:a?"1":"0"})});this.allowSelfSigned.subscribe(function(a){p.saveAdminConfig(null,{AllowSelfSigned:a?"1":"0"})})};a.prototype.onHide=function(){this.adminPassword("");this.adminPasswordNew("");this.adminPasswordNew2("")};a.prototype.phpInfoLink=function(){return f.phpInfo()};h.exports=a})()},function(h,f,c){(function(){function a(){var a=c(34);this.googleEnable=
a.google.enabled;this.googleEnableAuth=a.google.capa.auth;this.googleEnableAuthFast=a.google.capa.authFast;this.googleEnableDrive=a.google.capa.drive;this.googleEnablePreview=a.google.capa.preview;this.googleEnableRequireClientSettings=a.google.require.clientSettings;this.googleEnableRequireApiKey=a.google.require.apiKeySettings;this.googleClientID=a.google.clientID;this.googleClientSecret=a.google.clientSecret;this.googleApiKey=a.google.apiKey;this.googleTrigger1=d.observable(b.SaveSettingsStep.Idle);
this.googleTrigger2=d.observable(b.SaveSettingsStep.Idle);this.googleTrigger3=d.observable(b.SaveSettingsStep.Idle);this.facebookSupported=a.facebook.supported;this.facebookEnable=a.facebook.enabled;this.facebookAppID=a.facebook.appID;this.facebookAppSecret=a.facebook.appSecret;this.facebookTrigger1=d.observable(b.SaveSettingsStep.Idle);this.facebookTrigger2=d.observable(b.SaveSettingsStep.Idle);this.twitterEnable=a.twitter.enabled;this.twitterConsumerKey=a.twitter.consumerKey;this.twitterConsumerSecret=
a.twitter.consumerSecret;this.twitterTrigger1=d.observable(b.SaveSettingsStep.Idle);this.twitterTrigger2=d.observable(b.SaveSettingsStep.Idle);this.dropboxEnable=a.dropbox.enabled;this.dropboxApiKey=a.dropbox.apiKey;this.dropboxTrigger1=d.observable(b.SaveSettingsStep.Idle)}var e=c(3),d=c(2),b=c(4),g=c(1);a.prototype.onBuild=function(){var a=this,b=c(20);e.delay(function(){var c=g.settingsSaveHelperSimpleFunction(a.facebookTrigger1,a),d=g.settingsSaveHelperSimpleFunction(a.facebookTrigger2,a),e=g.settingsSaveHelperSimpleFunction(a.twitterTrigger1,
a),f=g.settingsSaveHelperSimpleFunction(a.twitterTrigger2,a),h=g.settingsSaveHelperSimpleFunction(a.googleTrigger1,a),t=g.settingsSaveHelperSimpleFunction(a.googleTrigger2,a),w=g.settingsSaveHelperSimpleFunction(a.googleTrigger3,a),v=g.settingsSaveHelperSimpleFunction(a.dropboxTrigger1,a);a.facebookEnable.subscribe(function(c){a.facebookSupported()&&b.saveAdminConfig(g.emptyFunction,{FacebookEnable:c?"1":"0"})});a.facebookAppID.subscribe(function(d){a.facebookSupported()&&b.saveAdminConfig(c,{FacebookAppID:g.trim(d)})});
a.facebookAppSecret.subscribe(function(c){a.facebookSupported()&&b.saveAdminConfig(d,{FacebookAppSecret:g.trim(c)})});a.twitterEnable.subscribe(function(a){b.saveAdminConfig(g.emptyFunction,{TwitterEnable:a?"1":"0"})});a.twitterConsumerKey.subscribe(function(a){b.saveAdminConfig(e,{TwitterConsumerKey:g.trim(a)})});a.twitterConsumerSecret.subscribe(function(a){b.saveAdminConfig(f,{TwitterConsumerSecret:g.trim(a)})});a.googleEnable.subscribe(function(a){b.saveAdminConfig(g.emptyFunction,{GoogleEnable:a?
"1":"0"})});a.googleEnableAuth.subscribe(function(a){b.saveAdminConfig(g.emptyFunction,{GoogleEnableAuth:a?"1":"0"})});a.googleEnableDrive.subscribe(function(a){b.saveAdminConfig(g.emptyFunction,{GoogleEnableDrive:a?"1":"0"})});a.googleEnablePreview.subscribe(function(a){b.saveAdminConfig(g.emptyFunction,{GoogleEnablePreview:a?"1":"0"})});a.googleClientID.subscribe(function(a){b.saveAdminConfig(h,{GoogleClientID:g.trim(a)})});a.googleClientSecret.subscribe(function(a){b.saveAdminConfig(t,{GoogleClientSecret:g.trim(a)})});
a.googleApiKey.subscribe(function(a){b.saveAdminConfig(w,{GoogleApiKey:g.trim(a)})});a.dropboxEnable.subscribe(function(a){b.saveAdminConfig(g.emptyFunction,{DropboxEnable:a?"1":"0"})});a.dropboxApiKey.subscribe(function(a){b.saveAdminConfig(v,{DropboxApiKey:g.trim(a)})})},50)};h.exports=a})()},,,,,,,,,,,,function(h,f,c){(function(){var a=c(2);h.exports=new function(){this.licensing=a.observable(!1);this.licensingProcess=a.observable(!1);this.licenseValid=a.observable(!1);this.licenseExpired=a.observable(0);
this.licenseError=a.observable("");this.licenseTrigger=a.observable(!1)}})()},function(h,f,c){(function(){function a(){p.call(this,"Center","AdminLogin");this.logoPowered=!!k.settingsGet("LoginPowered");this.mobile=!!k.appSettingsGet("mobile");this.mobileDevice=!!k.appSettingsGet("mobileDevice");this.login=d.observable("");this.password=d.observable("");this.loginError=d.observable(!1);this.passwordError=d.observable(!1);this.loginErrorAnimation=d.observable(!1).extend({falseTimeout:500});this.passwordErrorAnimation=
d.observable(!1).extend({falseTimeout:500});this.loginFocus=d.observable(!1);this.formHidden=d.observable(!1);this.formError=d.computed(function(){return this.loginErrorAnimation()||this.passwordErrorAnimation()},this);this.login.subscribe(function(){this.loginError(!1)},this);this.password.subscribe(function(){this.passwordError(!1)},this);this.loginError.subscribe(function(a){this.loginErrorAnimation(!!a)},this);this.passwordError.subscribe(function(a){this.passwordErrorAnimation(!!a)},this);this.submitRequest=
d.observable(!1);this.submitError=d.observable("");this.submitCommand=g.createCommand(this,function(){g.triggerAutocompleteInputChange();this.loginError(!1);this.passwordError(!1);this.loginError(""===g.trim(this.login()));this.passwordError(""===g.trim(this.password()));if(this.loginError()||this.passwordError())return!1;this.submitRequest(!0);m.adminLogin(e.bind(function(a,d){b.StorageResultType.Success===a&&d&&"AdminLogin"===d.Action?d.Result?c(22).default.loginAndLogoutReload(!0):d.ErrorCode&&
(this.submitRequest(!1),this.submitError(f.getNotification(d.ErrorCode))):(this.submitRequest(!1),this.submitError(f.getNotification(b.Notification.UnknownError)))},this),this.login(),this.password());return!0},function(){return!this.submitRequest()});n.constructorEnd(this)}var e=c(3),d=c(2),b=c(4),g=c(1),f=c(6),k=c(9),m=c(20),n=c(5),p=c(10);n.extendAsViewModel(["View/Admin/Login","AdminLoginViewModel"],a);e.extend(a.prototype,p.prototype);a.prototype.onShow=function(){n.routeOff();e.delay(e.bind(function(){this.loginFocus(!0)},
this),100)};a.prototype.onHide=function(){this.loginFocus(!1)};a.prototype.onBuild=function(){g.triggerAutocompleteInputChange(!0)};a.prototype.submitForm=function(){this.submitCommand()};h.exports=a})()},function(h,f,c){(function(){function a(a){g.call(this,"Left","AdminMenu");this.leftPanelDisabled=d.leftPanelDisabled;this.menu=a.menu;b.constructorEnd(this)}var e=c(3),d=c(8),b=c(5),g=c(10);b.extendAsViewModel(["View/Admin/Settings/Menu","AdminSettingsMenuViewModel"],a);e.extend(a.prototype,g.prototype);
a.prototype.link=function(a){return"#/"+a};a.prototype.onBuild=function(a){key("up, down",e.throttle(function(c,d){var e="",e=-1,g=d&&"up"===d.shortcut,f=$(".b-admin-menu .e-item",a);c&&f.length&&(e=f.index(f.filter(".selected")),g&&0<e?e--:!g&&e<f.length-1&&e++,(e=f.eq(e).attr("href"))&&b.setHash(e,!1,!0))},200))};h.exports=a})()},function(h,f,c){(function(){function a(){k.call(this,"Right","AdminPane");this.adminDomain=d.observable(b.settingsGet("AdminDomain"));this.version=d.observable(b.appSettingsGet("version"));
this.capa=!!b.settingsGet("PremType");this.community=!0;this.adminManLoading=d.computed(function(){return"000"!==[c(57).domains.loading()?"1":"0",c(59).plugins.loading()?"1":"0",c(58).packages.loading()?"1":"0"].join("")},this);this.adminManLoadingVisibility=d.computed(function(){return this.adminManLoading()?"visible":"hidden"},this).extend({rateLimit:300});f.constructorEnd(this)}var e=c(3),d=c(2),b=c(9),g=c(20),f=c(5),k=c(10);f.extendAsViewModel(["View/Admin/Settings/Pane","AdminSettingsPaneViewModel"],
a);e.extend(a.prototype,k.prototype);a.prototype.logoutClick=function(){g.adminLogout(function(){c(22).default.loginAndLogoutReload(!0,!0)})};h.exports=a})()},,,,,,,function(h,f,c){(function(){function a(){p.call(this,"Popups","PopupsPlugin");var a=this;this.onPluginSettingsUpdateResponse=e.bind(this.onPluginSettingsUpdateResponse,this);this.saveError=d.observable("");this.name=d.observable("");this.readme=d.observable("");this.configures=d.observableArray([]);this.hasReadme=d.computed(function(){return""!==
this.readme()},this);this.hasConfiguration=d.computed(function(){return 0<this.configures().length},this);this.readmePopoverConf={placement:"right",trigger:"hover",title:k.i18n("POPUPS_PLUGIN/TOOLTIP_ABOUT_TITLE"),container:"body",html:!0,content:function(){return"<pre>"+a.readme()+"</pre>"}};this.saveCommand=l.createCommand(this,function(){var a={};a.Name=this.name();e.each(this.configures(),function(b){var c=b.value();if(!1===c||!0===c)c=c?"1":"0";a["_"+b.Name]=c},this);this.saveError("");m.pluginSettingsUpdate(this.onPluginSettingsUpdateResponse,
a)},this.hasConfiguration);this.bDisabeCloseOnEsc=!0;this.sDefaultKeyScope=f.KeyState.All;this.tryToClosePopup=e.debounce(e.bind(this.tryToClosePopup,this),200);n.constructorEnd(this)}var e=c(3),d=c(2),b=c(18),f=c(4),l=c(1),k=c(6),m=c(20),n=c(5),p=c(10);n.extendAsViewModel(["View/Popup/Plugin","PopupsPluginViewModel"],a);e.extend(a.prototype,p.prototype);a.prototype.onPluginSettingsUpdateResponse=function(a,b){f.StorageResultType.Success===a&&b&&b.Result?this.cancelCommand():(this.saveError(""),b&&
b.ErrorCode?this.saveError(k.getNotification(b.ErrorCode)):this.saveError(k.getNotification(f.Notification.CantSavePluginSettings)))};a.prototype.onShow=function(a){this.name();this.readme();this.configures([]);a&&(this.name(a.Name),this.readme(a.Readme),a=a.Config,l.isNonEmptyArray(a)&&this.configures(e.map(a,function(a){return{value:d.observable(a[0]),placeholder:d.observable(a[6]),Name:a[1],Type:a[2],Label:a[3],Default:a[4],Desc:a[5]}})))};a.prototype.tryToClosePopup=function(){var a=this,b=c(43);
n.isPopupVisible(b)||n.showScreenPopup(b,[k.i18n("POPUPS_ASK/DESC_WANT_CLOSE_THIS_WINDOW"),function(){a.modalVisibility()&&l.delegateRun(a,"cancelCommand")}])};a.prototype.onBuild=function(){b("esc",f.KeyState.All,e.bind(function(){this.modalVisibility()&&this.tryToClosePopup();return!1},this))};h.exports=a})()}]);